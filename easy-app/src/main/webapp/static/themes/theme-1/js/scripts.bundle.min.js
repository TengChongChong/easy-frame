"use strict";var KTApp=function(){var t={},e={in:"fadeIn",out:"fadeOut"},a=function(t){var e=t.data("skin")?"tooltip-"+t.data("skin"):"",a="auto"===t.data("width")?"tooltop-auto-width":"",n=t.data("trigger")?t.data("trigger"):"hover";t.tooltip({trigger:n,template:'<div class="tooltip '+e+" "+a+'" role="tooltip">                <div class="arrow"></div>                <div class="tooltip-inner"></div>            </div>'})},n=function(){$('[data-toggle="kt-tooltip"], .kt-tooltip-auto').each(function(){a($(this))})},i=function(t){var e=t.data("skin")?"popover-"+t.data("skin"):"",a=t.data("trigger")?t.data("trigger"):"hover";t.popover({trigger:a,template:'            <div class="popover '+e+'" role="tooltip">                <div class="arrow"></div>                <h3 class="popover-header"></h3>                <div class="popover-body"></div>            </div>'})},o=function(){$('[data-toggle="kt-popover"]').each(function(){i($(this))})},l=function(t,e){new KTPortlet(t,e)},r=function(){$('[data-ktportlet="true"]').each(function(){var t=$(this);!0!==t.data("data-kt-portlet-initialized")&&(l(this,{}),t.data("data-kt-portlet-initialized",!0))})},s=function(){new Sticky('[data-sticky="true"]')},d=function(t){$(t).each(function(){var t=$(this);t.data("select-initialized")||(t.attr("data-select-initialized","true"),void 0!==t.data("dict-type")&&(t.append('<option value=""></option>'),g(t)),void 0!==t.data("url")&&(t.append('<option value=""></option>'),m(t)),KTUtil.isNotBlank(t.data("value"))&&t.val(t.data("value")),t.selectpicker({noneSelectedText:""}))})},c=function(t){f($(t),"checkbox")},u=function(t){f($(t),"radio")},f=function(t,e){null!=t&&t.length>0&&$(t).each(function(t,a){var n=$(a);if(!n.data(e+"-initialized")){n.attr("data-"+e+"-initialized","true");var i=n.data("dict-type");if(KTUtil.isNotBlank(i)){var o=n.data("direction"),l="kt-"+e+"-inline";"vertical"===o&&(l="kt-"+e+"-list");var r=KTTool.getSysDictArray(i);if(null!=r&&r.length>0){var s=n.data("value"),d=n.data("name"),c=n.data("required"),u='<div class="'+l+'">';$(r).each(function(t,a){u+='<label class="kt-'+e+'">                                        <input name="'+d+'" value="'+a.code+'" type="'+e+'" '+function(t,e){if(KTUtil.isNumber(t)){try{e=Number(e)}catch(t){}if(t===e)return"checked"}else if(KTUtil.isNotBlank(t)&&t.split(",").indexOf(e)>-1)return"checked";return""}(s,a.code)+" "+(c?"required":"")+"> "+a.name+"                                        <span></span>                                    </label>"}),u+="</div>",n.html(u)}}}})},p=function(t){$(t).each(function(){var t,e=$(this),a={language:"zh-CN",todayHighlight:!0,autoclose:!0,pickerPosition:e.data("position"),format:e.data("format"),todayBtn:e.data("today-btn"),startView:e.data("start-view"),minView:e.data("min-view")};KTUtil.isBlank(a.pickerPosition)&&(a.pickerPosition="bottom-right"),KTUtil.isBlank(a.format)&&(a.format="yyyy-mm-dd"),void 0===a.todayBtn&&(a.todayBtn=!1),void 0===a.startView&&(a.startView="yyyy"===(t=a.format)?4:t.length==="yyyy-mm".length?3:t.length==="hh:ii".length?1:2),void 0===a.minView&&(a.minView=function(t){return"yyyy"===t?4:t.length==="yyyy-mm".length?3:t.length==="yyyy-mm-dd".length?2:0}(a.format)),e.datetimepicker(a)})},g=function(t){var e=t.data("dict-type"),a=KTTool.getSysDictArray(e);null!=a&&a.length>0&&$(a).each(function(e,a){t.append('<option value="'+a.code+'">'+a.name+"</option>")})},m=function(t){KTUtil.ajax({url:t.data("url"),fail:function(e){console.error(e.message),t.selectpicker()},success:function(e){void 0!==e.data&&e.data.length>0&&$(e.data).each(function(e,a){t.append('<option value="'+a.value+'">'+a.text+"</option>")}),KTUtil.isNotBlank(t.data("value"))&&t.val(t.data("value")),t.selectpicker()}})};return{init:function(e){e&&e.colors&&(t=e.colors),KTApp.initComponents()},initComponents:function(){var t;$('[data-scroll="true"], .kt-scrollable').each(function(){var t=$(this);KTUtil.scrollInit(this,{mobileNativeScroll:!0,handleWindowResize:!0,rememberPosition:t.data("remember-position"),height:function(){return KTUtil.isInResponsiveRange("tablet-and-mobile")&&t.data("mobile-height")?t.data("mobile-height"):t.data("height")}})}),n(),o(),$("body").on("click","[data-close=alert]",function(){$(this).closest(".alert").hide()}),r(),s(),(t=$("body")).on("show.bs.dropdown",function(t){if(0!==$(t.target).find("[data-attach='body']").length){var e=$(t.target).find(".dropdown-menu");$("body").append(e.detach()),e.css("display","block"),e.position({my:"right top",at:"right bottom",of:$(t.relatedTarget)})}}),t.on("hide.bs.dropdown",function(t){if(0!==$(t.target).find("[data-attach='body']").length){var e=$(t.target).find(".dropdown-menu");$(t.target).append(e.detach()),e.hide()}}),d(".select-picker"),c(".checkbox-dict"),u(".radio-dict"),p(".date-picker")},initRadio:function(){u(".radio-dict")},initCheckbox:function(){c(".checkbox-dict")},initTooltips:function(){n()},initTooltip:function(t){a(t)},initPopovers:function(){o()},initPopover:function(t){i(t)},initPortlets:function(){r()},initPortlet:function(t,e){l(t,e)},initSticky:function(){s()},initAbsoluteDropdown:function(t){!function(t){var e;t&&(t.on("show.bs.dropdown",function(t){e=$(t.target).find(".dropdown-menu"),$("body").append(e.detach()),e.css("display","block"),e.position({my:"right top",at:"right bottom",of:$(t.relatedTarget)})}),t.on("hide.bs.dropdown",function(t){$(t.target).append(e.detach()),e.hide()}))}(t)},block:function(t,e){var a,n=$(t),i='<div class="kt-spinner '+((e=$.extend(!0,{opacity:.2,overlayColor:"#fff",type:"loader",state:"success",size:"",centerX:!0,centerY:!0,message:"",shadow:!0,width:"auto"},e)).type?"kt-spinner--"+e.type:"")+" "+(e.state?"kt-spinner--"+e.state:"")+" "+(e.size?"kt-spinner--"+e.size:"")+'"></div';if(e.message&&e.message.length>0){var o="blockui "+(!1===e.shadow?"blockui":"");a='<div class="'+o+'"><span>'+e.message+"</span><span>"+i+"</span></div>";n=document.createElement("div");KTUtil.get("body").prepend(n),KTUtil.addClass(n,o),n.innerHTML="<span>"+e.message+"</span><span>"+i+"</span>",e.width=KTUtil.actualWidth(n)+10,KTUtil.remove(n),"body"===t&&(a='<div class="'+o+'" style="margin-left:-'+e.width/2+'px;"><span>'+e.message+"</span><span>"+i+"</span></div>")}else a=i;var l={message:a,centerY:e.centerY,centerX:e.centerX,css:{top:"30%",left:"50%",border:"0",padding:"0",backgroundColor:"none",width:e.width},overlayCSS:{backgroundColor:e.overlayColor,opacity:e.opacity,cursor:"wait",zIndex:"10"},onUnblock:function(){n&&n[0]&&(KTUtil.css(n[0],"position",""),KTUtil.css(n[0],"zoom",""))}};"body"===t?(l.css.top="50%",$.blockUI(l)):(n=$(t)).block(l)},unblock:function(t){t&&"body"!==t?$(t).unblock():$.unblockUI()},blockPage:function(t){null==t&&(t={message:"页面加载中，请稍候..."}),KTApp.block("body",t)},too:function(){return KTApp.unblock("body")},progress:function(t,e){var a="kt-spinner kt-spinner--"+(e&&e.skin?e.skin:"light")+" kt-spinner--"+(e&&e.alignment?e.alignment:"right")+" kt-spinner--"+(e&&e.size?"kt-spinner--"+e.size:"");KTApp.unprogress(t),$(t).addClass(a),$(t).data("progress-classes",a)},unprogress:function(t){$(t).removeClass($(t).data("progress-classes"))},getStateColor:function(e){return t.state[e]},getBaseColor:function(e,a){return t.base[e][a-1]},initTabs:function(){window.tabPage=new KTTabPage},openPage:function(t,e,a){!function(t,e,a){top.location!==self.location&&"undefined"==typeof tabPage?parent.KTApp.openPage(t,e,a):"undefined"!=typeof tabPage?tabPage.addTab(t,e,a):window.open(e)}(t,e,a)},closeCurrentPage:function(){KTApp.closeTabByUrl(window.location.href)},closeTabByUrl:function(t){!function(t){top.location!==self.location&&"undefined"==typeof tabPage?parent.KTApp.closeTabByUrl(t):"undefined"!=typeof tabPage?tabPage.closeTabByUrl(t):window.close()}(t)},getAnimate:function(t){return e[t]},initSelectPicker:function(t){return d(t)},initDatePicker:function(t){p(t)},initDropzone:function(t){!function(t){var e={url:basePath+"/auth/upload",paramName:"file",maxFiles:1,maxFilesize:10,addRemoveLinks:!0,dictDefaultMessage:Dropzone.dictDefaultMessage,dictFallbackMessage:Dropzone.dictFallbackMessage,dictFallbackText:Dropzone.dictFallbackText,dictFileTooBig:Dropzone.dictFileTooBig,dictInvalidFileType:Dropzone.dictInvalidFileType,dictResponseError:Dropzone.dictResponseError,dictCancelUpload:Dropzone.dictCancelUpload,dictUploadCanceled:Dropzone.dictUploadCanceled,dictCancelUploadConfirmation:Dropzone.dictCancelUploadConfirmation,dictRemoveFile:Dropzone.dictRemoveFile,dictMaxFilesExceeded:Dropzone.dictMaxFilesExceeded},a=$.extend(!0,{},e,t);KTUtil.isFunction(t.success)&&(a.success=function(e){if(t.success($.parseJSON(e.xhr.response),e),e.previewElement)return e.previewElement.classList.add("dz-success")}),KTUtil.isFunction(t.complete)&&(a.complete=function(e){if(t.complete($.parseJSON(e.xhr.response),e),e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")}),new Dropzone(a.selector,a)}(t)},animateCSS:function(t,e,a){!function(t,e,a){var n=document.querySelector(t);n.classList.add("animated",e),n.addEventListener("animationend",function t(){n.classList.remove("animated",e),n.removeEventListener("animationend",t),KTUtil.isFunction(a)&&a()})}(t,e,a)}}}();$(document).ready(function(){KTApp.init(appOptions)}),this.Element&&function(t){t.matches=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.msMatchesSelector||function(t){for(var e=(this.parentNode||this.document).querySelectorAll(t),a=-1;e[++a]&&e[a]!=this;);return!!e[a]}}(Element.prototype),this.Element&&function(t){t.closest=t.closest||function(t){for(var e=this;e.matches&&!e.matches(t);)e=e.parentNode;return e.matches?e:null}}(Element.prototype),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),this.Element&&function(t){t.matches=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.msMatchesSelector||function(t){for(var e=(this.parentNode||this.document).querySelectorAll(t),a=-1;e[++a]&&e[a]!=this;);return!!e[a]}}(Element.prototype),function(){for(var t=0,e=["webkit","moz"],a=0;a<e.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[e[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[a]+"CancelAnimationFrame"]||window[e[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var a=(new Date).getTime(),n=Math.max(0,16-(a-t)),i=window.setTimeout(function(){e(a+n)},n);return t=a+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(t){t.hasOwnProperty("prepend")||Object.defineProperty(t,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach(function(t){var a=t instanceof Node;e.appendChild(a?t:document.createTextNode(String(t)))}),this.insertBefore(e,this.firstChild)}})}),window.KTUtilElementDataStore={},window.KTUtilElementDataStoreID=0,window.KTUtilDelegatedEventHandlers={};var KTUtil=function(){var t=[],e={sm:544,md:768,lg:1024,xl:1200,xxl:1400,xxxl:1600},a=function(){var e=!1;window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){!function(){for(var e=0;e<t.length;e++)t[e].call()}()},250)})};return{init:function(t){t&&t.breakpoints&&(e=t.breakpoints),a()},addResizeHandler:function(e){t.push(e)},removeResizeHandler:function(e){for(var a=0;a<t.length;a++)e===t[a]&&delete t[a]},runResizeHandlers:function(){_runResizeHandlers()},resize:function(){if("function"==typeof Event)window.dispatchEvent(new Event("resize"));else{var t=window.document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}},getURLParam:function(t){var e,a,n=window.location.search.substring(1).split("&");for(e=0;e<n.length;e++)if((a=n[e].split("="))[0]===t)return unescape(a[1]);return null},isMobileDevice:function(){return this.getViewPort().width<this.getBreakpoint("lg")},isDesktopDevice:function(){return!KTUtil.isMobileDevice()},getViewPort:function(){var t=window,e="inner";return"innerWidth"in window||(e="client",t=document.documentElement||document.body),{width:t[e+"Width"],height:t[e+"Height"]}},isInResponsiveRange:function(t){var e=this.getViewPort().width;return"general"===t||("desktop"===t&&e>=this.getBreakpoint("lg")+1||("tablet"===t&&e>=this.getBreakpoint("md")+1&&e<this.getBreakpoint("lg")||("mobile"===t&&e<=this.getBreakpoint("md")||("desktop-and-tablet"===t&&e>=this.getBreakpoint("md")+1||("tablet-and-mobile"===t&&e<=this.getBreakpoint("lg")||("minimal-desktop-and-below"===t&&e<=this.getBreakpoint("xl")||("big-screen"===t&&e<=this.getBreakpoint("xxl")||"super-screen"===t&&e<=this.getBreakpoint("xxxl"))))))))},getUniqueID:function(t){return t+Math.floor(Math.random()*(new Date).getTime())},getBreakpoint:function(t){return e[t]},isset:function(t,e){var a;if(-1!==(e=e||"").indexOf("["))throw new Error("Unsupported object path notation.");e=e.split(".");do{if(void 0===t)return!1;if(a=e.shift(),!t.hasOwnProperty(a))return!1;t=t[a]}while(e.length);return!0},getHighestZindex:function(t){for(var e,a,n=KTUtil.get(t);n&&n!==document;){if(("absolute"===(e=KTUtil.css(n,"position"))||"relative"===e||"fixed"===e)&&(a=parseInt(KTUtil.css(n,"z-index")),!isNaN(a)&&0!==a))return a;n=n.parentNode}return null},hasFixedPositionedParent:function(t){for(;t&&t!==document;){if("fixed"===KTUtil.css(t,"position"))return!0;t=t.parentNode}return!1},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},deepExtend:function(t){t=t||{};for(var e=1;e<arguments.length;e++){var a=arguments[e];if(a)for(var n in a)a.hasOwnProperty(n)&&("object"==typeof a[n]?t[n]=KTUtil.deepExtend(t[n],a[n]):t[n]=a[n])}return t},extend:function(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var a in arguments[e])arguments[e].hasOwnProperty(a)&&(t[a]=arguments[e][a]);return t},get:function(t){var e;return t===document?document:t&&1===t.nodeType?t:(e=document.getElementById(t))?e:(e=document.getElementsByTagName(t))?e[0]:(e=document.getElementsByClassName(t))?e[0]:null},getByID:function(t){return t&&1===t.nodeType?t:document.getElementById(t)},getByTag:function(t){var e;return(e=document.getElementsByTagName(t))?e[0]:null},getByClass:function(t){var e;return(e=document.getElementsByClassName(t))?e[0]:null},hasClasses:function(t,e){if(t){for(var a=e.split(" "),n=0;n<a.length;n++)if(0==KTUtil.hasClass(t,KTUtil.trim(a[n])))return!1;return!0}},hasClass:function(t,e){if(t)return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)},addClass:function(t,e){if(t&&void 0!==e){var a=e.split(" ");if(t.classList)for(var n=0;n<a.length;n++)a[n]&&a[n].length>0&&t.classList.add(KTUtil.trim(a[n]));else if(!KTUtil.hasClass(t,e))for(n=0;n<a.length;n++)t.className+=" "+KTUtil.trim(a[n])}},removeClass:function(t,e){if(t&&void 0!==e){var a=e.split(" ");if(t.classList)for(var n=0;n<a.length;n++)t.classList.remove(KTUtil.trim(a[n]));else if(KTUtil.hasClass(t,e))for(n=0;n<a.length;n++)t.className=t.className.replace(new RegExp("\\b"+KTUtil.trim(a[n])+"\\b","g"),"")}},triggerCustomEvent:function(t,e,a){if(window.CustomEvent)var n=new CustomEvent(e,{detail:a});else(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,a);t.dispatchEvent(n)},triggerEvent:function(t,e){var a;if(t.ownerDocument)a=t.ownerDocument;else{if(9!=t.nodeType)throw new Error("Invalid node passed to fireEvent: "+t.id);a=t}if(t.dispatchEvent){var n="";switch(e){case"click":case"mouseenter":case"mouseleave":case"mousedown":case"mouseup":n="MouseEvents";break;case"focus":case"change":case"blur":case"select":n="HTMLEvents";break;default:throw"fireEvent: Couldn't find an event class for event '"+e+"'."}var i="change"!=e;(o=a.createEvent(n)).initEvent(e,i,!0),o.synthetic=!0,t.dispatchEvent(o,!0)}else if(t.fireEvent){var o;(o=a.createEventObject()).synthetic=!0,t.fireEvent("on"+e,o)}},index:function(t){for(var e=(t=KTUtil.get(t)).parentNode.children,a=0;a<e.length;a++)if(e[a]==t)return a},trim:function(t){return t.trim()},eventTriggered:function(t){return!!t.currentTarget.dataset.triggered||(t.currentTarget.dataset.triggered=!0,!1)},remove:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},find:function(t,e){if(t=KTUtil.get(t))return t.querySelector(e)},findAll:function(t,e){if(t=KTUtil.get(t))return t.querySelectorAll(e)},insertAfter:function(t,e){return e.parentNode.insertBefore(t,e.nextSibling)},parents:function(t,e){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),a=e.length;--a>=0&&e.item(a)!==this;);return a>-1});for(var a=[];t&&t!==document;t=t.parentNode)e?t.matches(e)&&a.push(t):a.push(t);return a},children:function(t,e,a){if(t&&t.childNodes){for(var n=[],i=0,o=t.childNodes.length;i<o;++i)1==t.childNodes[i].nodeType&&KTUtil.matches(t.childNodes[i],e,a)&&n.push(t.childNodes[i]);return n}},child:function(t,e,a){var n=KTUtil.children(t,e,a);return n?n[0]:null},matches:function(t,e,a){var n=Element.prototype,i=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),this)};return!(!t||!t.tagName)&&i.call(t,e)},data:function(t){return t=KTUtil.get(t),{set:function(e,a){void 0!==t&&(void 0===t.customDataTag&&(KTUtilElementDataStoreID++,t.customDataTag=KTUtilElementDataStoreID),void 0===KTUtilElementDataStore[t.customDataTag]&&(KTUtilElementDataStore[t.customDataTag]={}),KTUtilElementDataStore[t.customDataTag][e]=a)},get:function(e){if(void 0!==t)return void 0===t.customDataTag?null:this.has(e)?KTUtilElementDataStore[t.customDataTag][e]:null},has:function(e){return void 0!==t&&(void 0!==t.customDataTag&&!(!KTUtilElementDataStore[t.customDataTag]||!KTUtilElementDataStore[t.customDataTag][e]))},remove:function(e){t&&this.has(e)&&delete KTUtilElementDataStore[t.customDataTag][e]}}},outerWidth:function(t,e){if(!0===e){var a=parseFloat(t.offsetWidth);return a+=parseFloat(KTUtil.css(t,"margin-left"))+parseFloat(KTUtil.css(t,"margin-right")),parseFloat(a)}return a=parseFloat(t.offsetWidth)},offset:function(t){var e,a;if(t=KTUtil.get(t))return t.getClientRects().length?(e=t.getBoundingClientRect(),a=t.ownerDocument.defaultView,{top:e.top+a.pageYOffset,left:e.left+a.pageXOffset}):{top:0,left:0}},height:function(t){return KTUtil.css(t,"height")},visible:function(t){return!(0===t.offsetWidth&&0===t.offsetHeight)},attr:function(t,e,a){if(null!=(t=KTUtil.get(t)))return void 0===a?t.getAttribute(e):void t.setAttribute(e,a)},hasAttr:function(t,e){if(null!=(t=KTUtil.get(t)))return!!t.getAttribute(e)},removeAttr:function(t,e){null!=(t=KTUtil.get(t))&&t.removeAttribute(e)},animate:function(t,e,a,n,i,o){var l={};if(l.linear=function(t,e,a,n){return a*t/n+e},i=l.linear,"number"==typeof t&&"number"==typeof e&&"number"==typeof a&&"function"==typeof n){"function"!=typeof o&&(o=function(){});var r=window.requestAnimationFrame||function(t){window.setTimeout(t,20)},s=e-t;n(t);var d=window.performance&&window.performance.now?window.performance.now():+new Date;r(function l(c){var u=(c||+new Date)-d;u>=0&&n(i(u,t,s,a)),u>=0&&u>=a?(n(e),o()):r(l)})}},actualCss:function(t,e,a){var n,i="";if((t=KTUtil.get(t))instanceof HTMLElement!=!1)return t.getAttribute("kt-hidden-"+e)&&!1!==a?parseFloat(t.getAttribute("kt-hidden-"+e)):(i=t.style.cssText,t.style.cssText="position: absolute; visibility: hidden; display: block;","width"==e?n=t.offsetWidth:"height"==e&&(n=t.offsetHeight),t.style.cssText=i,t.setAttribute("kt-hidden-"+e,n),parseFloat(n))},actualHeight:function(t,e){return KTUtil.actualCss(t,"height",e)},actualWidth:function(t,e){return KTUtil.actualCss(t,"width",e)},getScroll:function(t,e){return e="scroll"+e,t==window||t==document?self["scrollTop"==e?"pageYOffset":"pageXOffset"]||browserSupportsBoxModel&&document.documentElement[e]||document.body[e]:t[e]},css:function(t,e,a){if(t=KTUtil.get(t))if(void 0!==a)t.style[e]=a;else{var n=(t.ownerDocument||document).defaultView;if(n&&n.getComputedStyle)return e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n.getComputedStyle(t,null).getPropertyValue(e);if(t.currentStyle)return e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),a=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(a)?function(e){var a=t.style.left,n=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft+"px",t.style.left=a,t.runtimeStyle.left=n,e}(a):a}},slide:function(t,e,a,n,i){if(!(!t||"up"==e&&!1===KTUtil.visible(t)||"down"==e&&!0===KTUtil.visible(t))){a=a||600;var o=KTUtil.actualHeight(t),l=!1,r=!1;KTUtil.css(t,"padding-top")&&!0!==KTUtil.data(t).has("slide-padding-top")&&KTUtil.data(t).set("slide-padding-top",KTUtil.css(t,"padding-top")),KTUtil.css(t,"padding-bottom")&&!0!==KTUtil.data(t).has("slide-padding-bottom")&&KTUtil.data(t).set("slide-padding-bottom",KTUtil.css(t,"padding-bottom")),KTUtil.data(t).has("slide-padding-top")&&(l=parseInt(KTUtil.data(t).get("slide-padding-top"))),KTUtil.data(t).has("slide-padding-bottom")&&(r=parseInt(KTUtil.data(t).get("slide-padding-bottom"))),"up"==e?(t.style.cssText="display: block; overflow: hidden;",l&&KTUtil.animate(0,l,a,function(e){t.style.paddingTop=l-e+"px"},"linear"),r&&KTUtil.animate(0,r,a,function(e){t.style.paddingBottom=r-e+"px"},"linear"),KTUtil.animate(0,o,a,function(e){t.style.height=o-e+"px"},"linear",function(){n(),t.style.height="",t.style.display="none"})):"down"==e&&(t.style.cssText="display: block; overflow: hidden;",l&&KTUtil.animate(0,l,a,function(e){t.style.paddingTop=e+"px"},"linear",function(){t.style.paddingTop=""}),r&&KTUtil.animate(0,r,a,function(e){t.style.paddingBottom=e+"px"},"linear",function(){t.style.paddingBottom=""}),KTUtil.animate(0,o,a,function(e){t.style.height=e+"px"},"linear",function(){n(),t.style.height="",t.style.display="",t.style.overflow=""}))}},slideUp:function(t,e,a){KTUtil.slide(t,"up",e,a)},slideDown:function(t,e,a){KTUtil.slide(t,"down",e,a)},show:function(t,e){void 0!==t&&(t.style.display=e||"block")},hide:function(t){void 0!==t&&(t.style.display="none")},addEvent:function(t,e,a,n){void 0!==(t=KTUtil.get(t))&&t.addEventListener(e,a)},removeEvent:function(t,e,a){(t=KTUtil.get(t)).removeEventListener(e,a)},on:function(t,e,a,n){if(e){var i=KTUtil.getUniqueID("event");return KTUtilDelegatedEventHandlers[i]=function(a){for(var i=t.querySelectorAll(e),o=a.target;o&&o!==t;){for(var l=0,r=i.length;l<r;l++)o===i[l]&&n.call(o,a);o=o.parentNode}},KTUtil.addEvent(t,a,KTUtilDelegatedEventHandlers[i]),i}},off:function(t,e,a){t&&KTUtilDelegatedEventHandlers[a]&&(KTUtil.removeEvent(t,e,KTUtilDelegatedEventHandlers[a]),delete KTUtilDelegatedEventHandlers[a])},one:function(t,e,a){(t=KTUtil.get(t)).addEventListener(e,function t(e){return e.target&&e.target.removeEventListener&&e.target.removeEventListener(e.type,t),a(e)})},hash:function(t){var e,a=0;if(0===t.length)return a;for(e=0;e<t.length;e++)a=(a<<5)-a+t.charCodeAt(e),a|=0;return a},animateClass:function(t,e,a){var n,i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var o in i)void 0!==t.style[o]&&(n=i[o]);KTUtil.addClass(t,"animated "+e),KTUtil.one(t,n,function(){KTUtil.removeClass(t,"animated "+e)}),a&&KTUtil.one(t,n,a)},transitionEnd:function(t,e){var a,n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"mozTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"msTransitionEnd"};for(var i in n)void 0!==t.style[i]&&(a=n[i]);KTUtil.one(t,a,e)},animationEnd:function(t,e){var a,n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var i in n)void 0!==t.style[i]&&(a=n[i]);KTUtil.one(t,a,e)},animateDelay:function(t,e){for(var a=["webkit-","moz-","ms-","o-",""],n=0;n<a.length;n++)KTUtil.css(t,a[n]+"animation-delay",e)},animateDuration:function(t,e){for(var a=["webkit-","moz-","ms-","o-",""],n=0;n<a.length;n++)KTUtil.css(t,a[n]+"animation-duration",e)},scrollTo:function(t,e,a){a=a||500;var n,i,o=(t=KTUtil.get(t))?KTUtil.offset(t).top:0,l=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;o>l?(n=o,i=l):(n=l,i=o),e&&(i+=e),KTUtil.animate(n,i,a,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t})},scrollTop:function(t,e){KTUtil.scrollTo(null,t,e)},isArray:function(t){return t&&Array.isArray(t)},ready:function(t){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?t():document.addEventListener("DOMContentLoaded",t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},numberString:function(t){for(var e=(t+="").split("."),a=e[0],n=e.length>1?"."+e[1]:"",i=/(\d+)(\d{3})/;i.test(a);)a=a.replace(i,"$1,$2");return a+n},detectIE:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var a=t.indexOf("rv:");return parseInt(t.substring(a+3,t.indexOf(".",a)),10)}var n=t.indexOf("Edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)},isRTL:function(){return"rtl"==KTUtil.attr(KTUtil.get("html"),"direction")},scrollInit:function(t,e){function a(){var a,n;if(n=e.height instanceof Function?parseInt(e.height.call()):parseInt(e.height),(e.mobileNativeScroll||e.disableForMobile)&&KTUtil.isInResponsiveRange("tablet-and-mobile"))(a=KTUtil.data(t).get("ps"))?(e.resetHeightOnDestroy?KTUtil.css(t,"height","auto"):(KTUtil.css(t,"overflow","auto"),n>0&&KTUtil.css(t,"height",n+"px")),a.destroy(),a=KTUtil.data(t).remove("ps")):n>0&&(KTUtil.css(t,"overflow","auto"),KTUtil.css(t,"height",n+"px"));else if(n>0&&KTUtil.css(t,"height",n+"px"),e.desktopNativeScroll)KTUtil.css(t,"overflow","auto");else{KTUtil.css(t,"overflow","hidden"),(a=KTUtil.data(t).get("ps"))?a.update():(KTUtil.addClass(t,"kt-scroll"),a=new PerfectScrollbar(t,{wheelSpeed:.5,swipeEasing:!0,wheelPropagation:!1!==e.windowScroll,minScrollbarLength:40,maxScrollbarLength:300,suppressScrollX:"true"!==KTUtil.attr(t,"data-scroll-x")}),KTUtil.data(t).set("ps",a));var i=KTUtil.attr(t,"id");if(!0===e.rememberPosition&&Cookies&&i){if(Cookies.get(i)){var o=parseInt(Cookies.get(i));o>0&&(t.scrollTop=o)}t.addEventListener("ps-scroll-y",function(){Cookies.set(i,t.scrollTop)})}}}t&&(a(),e.handleWindowResize&&KTUtil.addResizeHandler(function(){a()}))},scrollUpdate:function(t){var e;(e=KTUtil.data(t).get("ps"))&&e.update()},scrollUpdateAll:function(t){$(t).find(".ps").each(function(){KTUtil.scrollerUpdate(this)})},scrollDestroy:function(t){var e=KTUtil.data(t).get("ps");e&&(e.destroy(),KTUtil.data(t).remove("ps"))},setHTML:function(t,e){$(t).html(e)},isBlank:function(t){return null==t||""==t},isNotBlank:function(t){return!KTUtil.isBlank(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNumber:function(t){return"number"==typeof t},isString:function(t){return"string"==typeof t},subStr:function(t,e){return t.length>e?t.substr(0,e)+"...":t},isTopPage:function(){return window.top!==window.self},alert:function(t){KTUtil.isTopPage()?window.parent.KTUtil.alert(t):swal.fire(t)},alertInfo:function(t,e){KTUtil.isTopPage()?window.parent.KTUtil.alertInfo(t,e):swal.fire(t,e,"info")},alertSuccess:function(t,e){KTUtil.isTopPage()?window.parent.KTUtil.alertSuccess(t,e):swal.fire(t,e,"success")},alertError:function(t,e){KTUtil.isTopPage()?window.parent.KTUtil.alertError(t,e):swal.fire(t,e,"error")},alertWarning:function(t,e){KTUtil.isTopPage()?window.parent.KTUtil.alertWarning(t,e):swal.fire(t,e,"warning")},alertConfirm:function(t,e,a,n){KTUtil.isTopPage()?window.parent.KTUtil.alertConfirm(t,e,a,n):swal.fire({title:t,text:e,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){null!=t.value&&t.value?KTUtil.isFunction(a)&&a():KTUtil.isFunction(n)&&n()})},ajaxError:function(t,e,a){var n=t.responseJSON;if(KTTool.httpCode.bad_request===n.code)if(void 0!==n.errors){var i=[];$(n.errors).each(function(t,e){i.push(e.defaultMessage)}),KTTool.errorTip(KTTool.commonTips.fail,i.join("<br/>"))}else KTTool.errorTip(KTTool.commonTips.fail,n.message);else console.error(t),console.error(e),console.error(a),KTTool.errorTip(t.responseJSON.error+"["+t.responseJSON.code+"]",t.responseJSON.path)},openWait:function(t){KTApp.block(t,{message:"请稍候..."})},closeWait:function(t){KTApp.unblock(t)},setButtonWait:function(t){$(t).addClass("m-loader m-loader--right m-loader--light").attr("disabled",!0)},offButtonWait:function(t){$(t).removeClass("m-loader m-loader--right m-loader--light").attr("disabled",!1)},ajax:function(t){KTUtil.isNotBlank(t)?(KTUtil.isNotBlank(t.wait)&&KTUtil.openWait(t.wait),$.ajax({async:t.async,url:t.url,cache:!1,data:t.data,contentType:t.contentType,type:KTUtil.isBlank(t.type)?"post":t.type,dataType:KTUtil.isBlank(t.dataType)?"json":t.dataType,error:function(e,a,n){KTUtil.isNotBlank(t.wait)&&KTUtil.closeWait(t.wait),KTUtil.isFunction(t.error)?t.error(e,a,n):KTUtil.ajaxError(e,a,n)},success:function(e){KTUtil.isNotBlank(t.wait)&&KTUtil.closeWait(t.wait),KTUtil.isBlank(t.dataType)||"json"===t.dataType?KTTool.httpCode.success===e.code?KTUtil.isFunction(t.success)&&t.success(e):function(t,e){null==t.needAlert||t.needAlert?KTUtil.isNotBlank(e.message)&&(KTTool.httpCode.unauthorized===e.code?(KTTool.errorTip(KTTool.commonTips.unauthorized,e.message),KTTool.getUser(!1)):KTTool.httpCode.internalServerError===e.code?KTTool.errorTip(KTTool.commonTips.fail,e.message):KTTool.errorTip("错误代码["+e.code+"]",e.message)):KTUtil.isNotBlank(e.message)&&console.warn(e.message),KTUtil.isFunction(t.fail)&&t.fail(e)}(t,e):KTUtil.isFunction(t.success)&&t.success(e)}})):console.warn("KTUtil.ajax方法不允许传入空参数")},updateTreeNodeInfo:function(t,e,a,n){var i=t.get_node(e);null!=i&&(t.rename_node(i,a),KTUtil.isNotBlank(n)&&t.set_icon(i,n))}}}();KTUtil.ready(function(){KTUtil.init()}),window.onload=function(){$("body").removeClass("kt-page--loading")};var KTDialog=function(t){var e,a=this,n=KTUtil.get("body"),i={placement:"top center",type:"loader",width:100,state:"default",message:"Loading..."},o={construct:function(t){return o.init(t),a},init:function(t){a.events=[],a.options=KTUtil.deepExtend({},i,t),a.state=!1},show:function(){return o.eventTrigger("show"),e=document.createElement("DIV"),KTUtil.setHTML(e,a.options.message),KTUtil.addClass(e,"kt-dialog kt-dialog--shown"),KTUtil.addClass(e,"kt-dialog--"+a.options.state),KTUtil.addClass(e,"kt-dialog--"+a.options.type),"top center"==a.options.placement&&KTUtil.addClass(e,"kt-dialog--top-center"),n.appendChild(e),a.state="shown",o.eventTrigger("shown"),a},hide:function(){return e&&(o.eventTrigger("hide"),e.remove(),a.state="hidden",o.eventTrigger("hidden")),a},eventTrigger:function(t){for(var e=0;e<a.events.length;e++){var n=a.events[e];n.name==t&&(1==n.one?0==n.fired&&(a.events[e].fired=!0,n.handler.call(this,a)):n.handler.call(this,a))}},addEvent:function(t,e,n){return a.events.push({name:t,handler:e,one:n,fired:!1}),a}};return a.setDefaults=function(t){i=t},a.shown=function(){return"shown"==a.state},a.hidden=function(){return"hidden"==a.state},a.show=function(){return o.show()},a.hide=function(){return o.hide()},a.on=function(t,e){return o.addEvent(t,e)},a.one=function(t,e){return o.addEvent(t,e,!0)},o.construct.apply(a,[t]),a};String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"gm"),e)},$.fn.serializeObject=function(){var t={},e=this.serializeArray();return $.each(e,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t};var KTHeader=function(t,e){var a=this,n=KTUtil.get(t),i=KTUtil.get("body");if(void 0!==n){var o={classic:!1,offset:{mobile:150,desktop:200},minimize:{mobile:!1,desktop:!1}},l={construct:function(t){return KTUtil.data(n).has("header")?a=KTUtil.data(n).get("header"):(l.init(t),l.build(),KTUtil.data(n).set("header",a)),a},init:function(t){a.events=[],a.options=KTUtil.deepExtend({},o,t)},build:function(){var t=0,e=!0;KTUtil.getViewPort().height;!1===a.options.minimize.mobile&&!1===a.options.minimize.desktop||window.addEventListener("scroll",function(){var n,o,r,s=0;KTUtil.isInResponsiveRange("desktop")?(s=a.options.offset.desktop,n=a.options.minimize.desktop.on,o=a.options.minimize.desktop.off):KTUtil.isInResponsiveRange("tablet-and-mobile")&&(s=a.options.offset.mobile,n=a.options.minimize.mobile.on,o=a.options.minimize.mobile.off),r=window.pageYOffset,KTUtil.isInResponsiveRange("tablet-and-mobile")&&a.options.classic&&a.options.classic.mobile||KTUtil.isInResponsiveRange("desktop")&&a.options.classic&&a.options.classic.desktop?r>s?(KTUtil.addClass(i,n),KTUtil.removeClass(i,o),e&&(l.eventTrigger("minimizeOn",a),e=!1)):(KTUtil.addClass(i,o),KTUtil.removeClass(i,n),0==e&&(l.eventTrigger("minimizeOff",a),e=!0)):(r>s&&t<r?(KTUtil.addClass(i,n),KTUtil.removeClass(i,o),e&&(l.eventTrigger("minimizeOn",a),e=!1)):(KTUtil.addClass(i,o),KTUtil.removeClass(i,n),0==e&&(l.eventTrigger("minimizeOff",a),e=!0)),t=r)})},eventTrigger:function(t,e){for(var n=0;n<a.events.length;n++){var i=a.events[n];i.name==t&&(1==i.one?0==i.fired&&(a.events[n].fired=!0,i.handler.call(this,a,e)):i.handler.call(this,a,e))}},addEvent:function(t,e,n){a.events.push({name:t,handler:e,one:n,fired:!1})}};return a.setDefaults=function(t){o=t},a.on=function(t,e){return l.addEvent(t,e)},l.construct.apply(a,[e]),!0,a}},KTMenu=function(t,e){var a=this,n=!1,i=KTUtil.get(t),o=KTUtil.get("body");if(i){var l={scroll:{rememberPosition:!1},accordion:{slideSpeed:200,autoScroll:!1,autoScrollSpeed:1200,expandAll:!0},dropdown:{timeout:500}},r={construct:function(t){return KTUtil.data(i).has("menu")?a=KTUtil.data(i).get("menu"):(r.init(t),r.reset(),r.build(),KTUtil.data(i).set("menu",a)),a},init:function(t){a.events=[],a.eventHandlers={},a.options=KTUtil.deepExtend({},l,t),a.pauseDropdownHoverTime=0,a.uid=KTUtil.getUniqueID()},update:function(t){a.options=KTUtil.deepExtend({},l,t),a.pauseDropdownHoverTime=0,r.reset(),a.eventHandlers={},r.build(),KTUtil.data(i).set("menu",a)},reload:function(){r.reset(),r.build(),r.resetSubmenuProps()},build:function(){a.eventHandlers.event_1=KTUtil.on(i,".kt-menu__toggle","click",r.handleSubmenuAccordion),("dropdown"===r.getSubmenuMode()||r.isConditionalSubmenuDropdown())&&(a.eventHandlers.event_2=KTUtil.on(i,'[data-ktmenu-submenu-toggle="hover"]',"mouseover",r.handleSubmenuDrodownHoverEnter),a.eventHandlers.event_3=KTUtil.on(i,'[data-ktmenu-submenu-toggle="hover"]',"mouseout",r.handleSubmenuDrodownHoverExit),a.eventHandlers.event_4=KTUtil.on(i,'[data-ktmenu-submenu-toggle="click"] > .kt-menu__toggle, [data-ktmenu-submenu-toggle="click"] > .kt-menu__link .kt-menu__toggle',"click",r.handleSubmenuDropdownClick),a.eventHandlers.event_5=KTUtil.on(i,'[data-ktmenu-submenu-toggle="tab"] > .kt-menu__toggle, [data-ktmenu-submenu-toggle="tab"] > .kt-menu__link .kt-menu__toggle',"click",r.handleSubmenuDropdownTabClick)),a.eventHandlers.event_6=KTUtil.on(i,".kt-menu__item > .kt-menu__link:not(.kt-menu__toggle):not(.kt-menu__link--toggle-skip)","click",r.handleLinkClick),a.options.scroll&&a.options.scroll.height&&r.scrollInit()},reset:function(){KTUtil.off(i,"click",a.eventHandlers.event_1),KTUtil.off(i,"mouseover",a.eventHandlers.event_2),KTUtil.off(i,"mouseout",a.eventHandlers.event_3),KTUtil.off(i,"click",a.eventHandlers.event_4),KTUtil.off(i,"click",a.eventHandlers.event_5),KTUtil.off(i,"click",a.eventHandlers.event_6)},scrollInit:function(){a.options.scroll&&a.options.scroll.height?(KTUtil.scrollDestroy(i),KTUtil.scrollInit(i,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:a.options.scroll.height,rememberPosition:a.options.scroll.rememberPosition})):KTUtil.scrollDestroy(i)},scrollUpdate:function(){a.options.scroll&&a.options.scroll.height&&KTUtil.scrollUpdate(i)},scrollTop:function(){a.options.scroll&&a.options.scroll.height&&KTUtil.scrollTop(i)},getSubmenuMode:function(t){return KTUtil.isInResponsiveRange("desktop")?t&&KTUtil.hasAttr(t,"data-ktmenu-submenu-toggle")&&"hover"==KTUtil.attr(t,"data-ktmenu-submenu-toggle")?"dropdown":KTUtil.isset(a.options.submenu,"desktop.state.body")?KTUtil.hasClasses(o,a.options.submenu.desktop.state.body)?a.options.submenu.desktop.state.mode:a.options.submenu.desktop.default:KTUtil.isset(a.options.submenu,"desktop")?a.options.submenu.desktop:void 0:KTUtil.isInResponsiveRange("tablet")&&KTUtil.isset(a.options.submenu,"tablet")?a.options.submenu.tablet:!(!KTUtil.isInResponsiveRange("mobile")||!KTUtil.isset(a.options.submenu,"mobile"))&&a.options.submenu.mobile},isConditionalSubmenuDropdown:function(){return!(!KTUtil.isInResponsiveRange("desktop")||!KTUtil.isset(a.options.submenu,"desktop.state.body"))},resetSubmenuProps:function(t){var e=KTUtil.findAll(i,".kt-menu__submenu");if(e)for(var a=0,n=e.length;a<n;a++)KTUtil.css(e[0],"display",""),KTUtil.css(e[0],"overflow","")},handleSubmenuDrodownHoverEnter:function(t){if("accordion"!==r.getSubmenuMode(this)&&!1!==a.resumeDropdownHover()){"1"==this.getAttribute("data-hover")&&(this.removeAttribute("data-hover"),clearTimeout(this.getAttribute("data-timeout")),this.removeAttribute("data-timeout")),r.showSubmenuDropdown(this)}},handleSubmenuDrodownHoverExit:function(t){if(!1!==a.resumeDropdownHover()&&"accordion"!==r.getSubmenuMode(this)){var e=this,n=a.options.dropdown.timeout,i=setTimeout(function(){"1"==e.getAttribute("data-hover")&&r.hideSubmenuDropdown(e,!0)},n);e.setAttribute("data-hover","1"),e.setAttribute("data-timeout",i)}},handleSubmenuDropdownClick:function(t){if("accordion"!==r.getSubmenuMode(this)){var e=this.closest(".kt-menu__item");"accordion"!=e.getAttribute("data-ktmenu-submenu-mode")&&(!1===KTUtil.hasClass(e,"kt-menu__item--hover")?(KTUtil.addClass(e,"kt-menu__item--open-dropdown"),r.showSubmenuDropdown(e)):(KTUtil.removeClass(e,"kt-menu__item--open-dropdown"),r.hideSubmenuDropdown(e,!0)),t.preventDefault())}},handleSubmenuDropdownTabClick:function(t){if("accordion"!==r.getSubmenuMode(this)){var e=this.closest(".kt-menu__item");"accordion"!=e.getAttribute("data-ktmenu-submenu-mode")&&(0==KTUtil.hasClass(e,"kt-menu__item--hover")&&(KTUtil.addClass(e,"kt-menu__item--open-dropdown"),r.showSubmenuDropdown(e)),t.preventDefault())}},handleLinkClick:function(t){var e=this.closest(".kt-menu__item.kt-menu__item--submenu");e&&"dropdown"===r.getSubmenuMode(e)&&r.hideSubmenuDropdowns()},handleSubmenuDropdownClose:function(t,e){if("accordion"!==r.getSubmenuMode(e)){var a=i.querySelectorAll(".kt-menu__item.kt-menu__item--submenu.kt-menu__item--hover:not(.kt-menu__item--tabs)");if(a.length>0&&!1===KTUtil.hasClass(e,"kt-menu__toggle")&&0===e.querySelectorAll(".kt-menu__toggle").length)for(var n=0,o=a.length;n<o;n++)r.hideSubmenuDropdown(a[0],!0)}},handleSubmenuAccordion:function(t,e){var n,i=e||this;if("dropdown"===r.getSubmenuMode(e)&&(n=i.closest(".kt-menu__item"))&&"accordion"!=n.getAttribute("data-ktmenu-submenu-mode"))t.preventDefault();else{var o=i.closest(".kt-menu__item"),l=KTUtil.child(o,".kt-menu__submenu, .kt-menu__inner");if(!KTUtil.hasClass(i.closest(".kt-menu__item"),"kt-menu__item--open-always")&&o&&l){t.preventDefault();var s=a.options.accordion.slideSpeed;if(!1===KTUtil.hasClass(o,"kt-menu__item--open")){if(!1===a.options.accordion.expandAll){var d=i.closest(".kt-menu__nav, .kt-menu__subnav"),c=KTUtil.children(d,".kt-menu__item.kt-menu__item--open.kt-menu__item--submenu:not(.kt-menu__item--here):not(.kt-menu__item--open-always)");if(d&&c)for(var u=0,f=c.length;u<f;u++){var p=c[0],g=KTUtil.child(p,".kt-menu__submenu");g&&KTUtil.slideUp(g,s,function(){r.scrollUpdate(),KTUtil.removeClass(p,"kt-menu__item--open")})}}KTUtil.slideDown(l,s,function(){r.scrollToItem(i),r.scrollUpdate(),r.eventTrigger("submenuToggle",l)}),KTUtil.addClass(o,"kt-menu__item--open")}else KTUtil.slideUp(l,s,function(){r.scrollToItem(i),r.eventTrigger("submenuToggle",l)}),KTUtil.removeClass(o,"kt-menu__item--open")}}},scrollToItem:function(t){KTUtil.isInResponsiveRange("desktop")&&a.options.accordion.autoScroll&&"1"!==i.getAttribute("data-ktmenu-scroll")&&KTUtil.scrollTo(t,a.options.accordion.autoScrollSpeed)},hideSubmenuDropdown:function(t,e){e&&(KTUtil.removeClass(t,"kt-menu__item--hover"),KTUtil.removeClass(t,"kt-menu__item--active-tab")),t.removeAttribute("data-hover"),t.getAttribute("data-ktmenu-dropdown-toggle-class")&&KTUtil.removeClass(o,t.getAttribute("data-ktmenu-dropdown-toggle-class"));var a=t.getAttribute("data-timeout");t.removeAttribute("data-timeout"),clearTimeout(a)},hideSubmenuDropdowns:function(){var t;if(t=i.querySelectorAll('.kt-menu__item--submenu.kt-menu__item--hover:not(.kt-menu__item--tabs):not([data-ktmenu-submenu-toggle="tab"])'))for(var e=0,a=t.length;e<a;e++)r.hideSubmenuDropdown(t[e],!0)},showSubmenuDropdown:function(t){var e=i.querySelectorAll(".kt-menu__item--submenu.kt-menu__item--hover, .kt-menu__item--submenu.kt-menu__item--active-tab");if(e)for(var a=0,n=e.length;a<n;a++){var l=e[a];t!==l&&!1===l.contains(t)&&!1===t.contains(l)&&r.hideSubmenuDropdown(l,!0)}KTUtil.addClass(t,"kt-menu__item--hover"),t.getAttribute("data-ktmenu-dropdown-toggle-class")&&KTUtil.addClass(o,t.getAttribute("data-ktmenu-dropdown-toggle-class"))},createSubmenuDropdownClickDropoff:function(t){var e,a=(e=KTUtil.child(t,".kt-menu__submenu")?KTUtil.css(e,"z-index"):0)-1,n=document.createElement('<div class="kt-menu__dropoff" style="background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: '+a+'"></div>');o.appendChild(n),KTUtil.addEvent(n,"click",function(e){e.stopPropagation(),e.preventDefault(),KTUtil.remove(this),r.hideSubmenuDropdown(t,!0)})},pauseDropdownHover:function(t){var e=new Date;a.pauseDropdownHoverTime=e.getTime()+t},resumeDropdownHover:function(){return(new Date).getTime()>a.pauseDropdownHoverTime},resetActiveItem:function(t){for(var e,n,o=0,l=(e=i.querySelectorAll(".kt-menu__item--active")).length;o<l;o++){var r=e[0];KTUtil.removeClass(r,"kt-menu__item--active"),KTUtil.hide(KTUtil.child(r,".kt-menu__submenu"));for(var s=0,d=(n=KTUtil.parents(r,".kt-menu__item--submenu")||[]).length;s<d;s++){var c=n[o];KTUtil.removeClass(c,"kt-menu__item--open"),KTUtil.hide(KTUtil.child(c,".kt-menu__submenu"))}}if(!1===a.options.accordion.expandAll&&(e=i.querySelectorAll(".kt-menu__item--open")))for(o=0,l=e.length;o<l;o++)KTUtil.removeClass(n[0],"kt-menu__item--open")},setActiveItem:function(t){r.resetActiveItem();for(var e=KTUtil.parents(t,".kt-menu__item--submenu")||[],a=0,n=e.length;a<n;a++)KTUtil.addClass(KTUtil.get(e[a]),"kt-menu__item--open");KTUtil.addClass(KTUtil.get(t),"kt-menu__item--active")},getBreadcrumbs:function(t){var e,a=[],n=KTUtil.child(t,".kt-menu__link");a.push({text:e=KTUtil.child(n,".kt-menu__link-text")?e.innerHTML:"",title:n.getAttribute("title"),href:n.getAttribute("href")});for(var i=KTUtil.parents(t,".kt-menu__item--submenu"),o=0,l=i.length;o<l;o++){var r=KTUtil.child(i[o],".kt-menu__link");a.push({text:e=KTUtil.child(r,".kt-menu__link-text")?e.innerHTML:"",title:r.getAttribute("title"),href:r.getAttribute("href")})}return a.reverse()},getPageTitle:function(t){var e;return KTUtil.child(t,".kt-menu__link-text")?e.innerHTML:""},eventTrigger:function(t,e){for(var n=0;n<a.events.length;n++){var i=a.events[n];i.name==t&&(1==i.one?0==i.fired&&(a.events[n].fired=!0,i.handler.call(this,a,e)):i.handler.call(this,a,e))}},addEvent:function(t,e,n){a.events.push({name:t,handler:e,one:n,fired:!1})},removeEvent:function(t){a.events[t]&&delete a.events[t]}};return a.setDefaults=function(t){l=t},a.scrollUpdate=function(){return r.scrollUpdate()},a.scrollReInit=function(){return r.scrollInit()},a.scrollTop=function(){return r.scrollTop()},a.setActiveItem=function(t){return r.setActiveItem(t)},a.reload=function(){return r.reload()},a.update=function(t){return r.update(t)},a.getBreadcrumbs=function(t){return r.getBreadcrumbs(t)},a.getPageTitle=function(t){return r.getPageTitle(t)},a.getSubmenuMode=function(t){return r.getSubmenuMode(t)},a.hideDropdown=function(t){r.hideSubmenuDropdown(t,!0)},a.hideDropdowns=function(){r.hideSubmenuDropdowns()},a.pauseDropdownHover=function(t){r.pauseDropdownHover(t)},a.resumeDropdownHover=function(){return r.resumeDropdownHover()},a.on=function(t,e){return r.addEvent(t,e)},a.off=function(t){return r.removeEvent(t)},a.one=function(t,e){return r.addEvent(t,e,!0)},r.construct.apply(a,[e]),KTUtil.addResizeHandler(function(){n&&a.reload()}),n=!0,a}};document.addEventListener("click",function(t){var e;if(e=KTUtil.get("body").querySelectorAll('.kt-menu__nav .kt-menu__item.kt-menu__item--submenu.kt-menu__item--hover:not(.kt-menu__item--tabs)[data-ktmenu-submenu-toggle="click"]'))for(var a=0,n=e.length;a<n;a++){var i=e[a].closest(".kt-menu__nav").parentNode;if(i){var o=KTUtil.data(i).get("menu");if(!o)break;if(!o||"dropdown"!==o.getSubmenuMode())break;t.target!==i&&!1===i.contains(t.target)&&o.hideDropdowns()}}});var KTOffcanvas=function(t,e){var a=this,n=KTUtil.get(t),i=KTUtil.get("body");if(n){var o={},l={construct:function(t){return KTUtil.data(n).has("offcanvas")?a=KTUtil.data(n).get("offcanvas"):(l.init(t),l.build(),KTUtil.data(n).set("offcanvas",a)),a},init:function(t){a.events=[],a.options=KTUtil.deepExtend({},o,t),a.overlay,a.classBase=a.options.baseClass,a.classShown=a.classBase+"--on",a.classOverlay=a.classBase+"-overlay",a.state=KTUtil.hasClass(n,a.classShown)?"shown":"hidden"},build:function(){if(a.options.toggleBy)if("string"==typeof a.options.toggleBy)KTUtil.addEvent(a.options.toggleBy,"click",function(t){t.preventDefault(),l.toggle()});else if(a.options.toggleBy&&a.options.toggleBy[0])if(a.options.toggleBy[0].target)for(var t in a.options.toggleBy)KTUtil.addEvent(a.options.toggleBy[t].target,"click",function(t){t.preventDefault(),l.toggle()});else for(var t in a.options.toggleBy)KTUtil.addEvent(a.options.toggleBy[t],"click",function(t){t.preventDefault(),l.toggle()});else a.options.toggleBy&&a.options.toggleBy.target&&KTUtil.addEvent(a.options.toggleBy.target,"click",function(t){t.preventDefault(),l.toggle()});var e=KTUtil.get(a.options.closeBy);e&&KTUtil.addEvent(e,"click",function(t){t.preventDefault(),l.hide()}),KTUtil.addResizeHandler(function(){(parseInt(KTUtil.css(n,"left"))>=0||parseInt(KTUtil.css(n,"right")>=0)||"fixed"!=KTUtil.css(n,"position"))&&KTUtil.css(n,"opacity","1")})},isShown:function(t){return"shown"==a.state},toggle:function(){l.eventTrigger("toggle"),"shown"==a.state?l.hide(this):l.show(this)},show:function(t){"shown"!=a.state&&(l.eventTrigger("beforeShow"),l.togglerClass(t,"show"),KTUtil.addClass(i,a.classShown),KTUtil.addClass(n,a.classShown),KTUtil.css(n,"opacity","1"),a.state="shown",a.options.overlay&&(a.overlay=KTUtil.insertAfter(document.createElement("DIV"),n),KTUtil.addClass(a.overlay,a.classOverlay),KTUtil.addEvent(a.overlay,"click",function(e){e.stopPropagation(),e.preventDefault(),l.hide(t)})),l.eventTrigger("afterShow"))},hide:function(t){"hidden"!=a.state&&(l.eventTrigger("beforeHide"),l.togglerClass(t,"hide"),KTUtil.removeClass(i,a.classShown),KTUtil.removeClass(n,a.classShown),a.state="hidden",a.options.overlay&&a.overlay&&KTUtil.remove(a.overlay),KTUtil.transitionEnd(n,function(){KTUtil.css(n,"opacity","0")}),l.eventTrigger("afterHide"))},togglerClass:function(t,e){var n,i=KTUtil.attr(t,"id");if(a.options.toggleBy&&a.options.toggleBy[0]&&a.options.toggleBy[0].target)for(var o in a.options.toggleBy)a.options.toggleBy[o].target===i&&(n=a.options.toggleBy[o]);else a.options.toggleBy&&a.options.toggleBy.target&&(n=a.options.toggleBy);if(n){var l=KTUtil.get(n.target);"show"===e&&KTUtil.addClass(l,n.state),"hide"===e&&KTUtil.removeClass(l,n.state)}},eventTrigger:function(t,e){for(var n=0;n<a.events.length;n++){var i=a.events[n];i.name==t&&(1==i.one?0==i.fired&&(a.events[n].fired=!0,i.handler.call(this,a,e)):i.handler.call(this,a,e))}},addEvent:function(t,e,n){a.events.push({name:t,handler:e,one:n,fired:!1})}};return a.setDefaults=function(t){o=t},a.isShown=function(){return l.isShown()},a.hide=function(){return l.hide()},a.show=function(){return l.show()},a.on=function(t,e){return l.addEvent(t,e)},a.one=function(t,e){return l.addEvent(t,e,!0)},l.construct.apply(a,[e]),!0,a}},KTPortlet=function(t,e){var a=this,n=KTUtil.get(t),i=KTUtil.get("body");if(n){var o={bodyToggleSpeed:400,tooltips:!0,tools:{toggle:{collapse:"Collapse",expand:"Expand"},reload:"Reload",remove:"Remove",fullscreen:{on:"Fullscreen",off:"Exit Fullscreen"}},sticky:{offset:300,zIndex:101}},l={construct:function(t){return KTUtil.data(n).has("portlet")?a=KTUtil.data(n).get("portlet"):(l.init(t),l.build(),KTUtil.data(n).set("portlet",a)),a},init:function(t){a.element=n,a.events=[],a.options=KTUtil.deepExtend({},o,t),a.head=KTUtil.child(n,".kt-portlet__head"),a.foot=KTUtil.child(n,".kt-portlet__foot"),KTUtil.child(n,".kt-portlet__body")?a.body=KTUtil.child(n,".kt-portlet__body"):KTUtil.child(n,".kt-form")&&(a.body=KTUtil.child(n,".kt-form"))},build:function(){var t=KTUtil.find(a.head,"[data-ktportlet-tool=remove]");t&&KTUtil.addEvent(t,"click",function(t){t.preventDefault(),l.remove()});var e=KTUtil.find(a.head,"[data-ktportlet-tool=reload]");e&&KTUtil.addEvent(e,"click",function(t){t.preventDefault(),l.reload()});var n=KTUtil.find(a.head,"[data-ktportlet-tool=toggle]");n&&KTUtil.addEvent(n,"click",function(t){t.preventDefault(),l.toggle()});var i=KTUtil.find(a.head,"[data-ktportlet-tool=fullscreen]");i&&KTUtil.addEvent(i,"click",function(t){t.preventDefault(),l.fullscreen()}),l.setupTooltips()},initSticky:function(){a.options.sticky.offset;a.head&&window.addEventListener("scroll",l.onScrollSticky)},onScrollSticky:function(t){var e=a.options.sticky.offset;if(!isNaN(e)){var o=document.documentElement.scrollTop;o>=e&&!1===KTUtil.hasClass(i,"kt-portlet--sticky")?(l.eventTrigger("stickyOn"),KTUtil.addClass(i,"kt-portlet--sticky"),KTUtil.addClass(n,"kt-portlet--sticky"),l.updateSticky()):1.5*o<=e&&KTUtil.hasClass(i,"kt-portlet--sticky")&&(l.eventTrigger("stickyOff"),KTUtil.removeClass(i,"kt-portlet--sticky"),KTUtil.removeClass(n,"kt-portlet--sticky"),l.resetSticky())}},updateSticky:function(){var t,e,n;a.head&&(KTUtil.hasClass(i,"kt-portlet--sticky")&&(t=a.options.sticky.position.top instanceof Function?parseInt(a.options.sticky.position.top.call()):parseInt(a.options.sticky.position.top),e=a.options.sticky.position.left instanceof Function?parseInt(a.options.sticky.position.left.call()):parseInt(a.options.sticky.position.left),n=a.options.sticky.position.right instanceof Function?parseInt(a.options.sticky.position.right.call()):parseInt(a.options.sticky.position.right),KTUtil.css(a.head,"z-index",a.options.sticky.zIndex),KTUtil.css(a.head,"top",t+"px"),KTUtil.css(a.head,"left",e+"px"),KTUtil.css(a.head,"right",n+"px")))},resetSticky:function(){a.head&&!1===KTUtil.hasClass(i,"kt-portlet--sticky")&&(KTUtil.css(a.head,"z-index",""),KTUtil.css(a.head,"top",""),KTUtil.css(a.head,"left",""),KTUtil.css(a.head,"right",""))},remove:function(){!1!==l.eventTrigger("beforeRemove")&&(KTUtil.hasClass(i,"kt-portlet--fullscreen")&&KTUtil.hasClass(n,"kt-portlet--fullscreen")&&l.fullscreen("off"),l.removeTooltips(),KTUtil.remove(n),l.eventTrigger("afterRemove"))},setContent:function(t){t&&(a.body.innerHTML=t)},getBody:function(){return a.body},getSelf:function(){return n},setupTooltips:function(){if(a.options.tooltips){var t=KTUtil.hasClass(n,"kt-portlet--collapse")||KTUtil.hasClass(n,"kt-portlet--collapsed"),e=KTUtil.hasClass(i,"kt-portlet--fullscreen")&&KTUtil.hasClass(n,"kt-portlet--fullscreen"),o=KTUtil.find(a.head,"[data-ktportlet-tool=remove]");if(o){var l=e?"bottom":"top",r=new Tooltip(o,{title:a.options.tools.remove,placement:l,offset:e?"0,10px,0,0":"0,5px",trigger:"hover",template:'<div class="tooltip tooltip-portlet tooltip bs-tooltip-'+l+'" role="tooltip">                            <div class="tooltip-arrow arrow"></div>                            <div class="tooltip-inner"></div>                        </div>'});KTUtil.data(o).set("tooltip",r)}var s=KTUtil.find(a.head,"[data-ktportlet-tool=reload]");if(s){l=e?"bottom":"top",r=new Tooltip(s,{title:a.options.tools.reload,placement:l,offset:e?"0,10px,0,0":"0,5px",trigger:"hover",template:'<div class="tooltip tooltip-portlet tooltip bs-tooltip-'+l+'" role="tooltip">                            <div class="tooltip-arrow arrow"></div>                            <div class="tooltip-inner"></div>                        </div>'});KTUtil.data(s).set("tooltip",r)}var d=KTUtil.find(a.head,"[data-ktportlet-tool=toggle]");if(d){l=e?"bottom":"top",r=new Tooltip(d,{title:t?a.options.tools.toggle.expand:a.options.tools.toggle.collapse,placement:l,offset:e?"0,10px,0,0":"0,5px",trigger:"hover",template:'<div class="tooltip tooltip-portlet tooltip bs-tooltip-'+l+'" role="tooltip">                            <div class="tooltip-arrow arrow"></div>                            <div class="tooltip-inner"></div>                        </div>'});KTUtil.data(d).set("tooltip",r)}var c=KTUtil.find(a.head,"[data-ktportlet-tool=fullscreen]");if(c){l=e?"bottom":"top",r=new Tooltip(c,{title:e?a.options.tools.fullscreen.off:a.options.tools.fullscreen.on,placement:l,offset:e?"0,10px,0,0":"0,5px",trigger:"hover",template:'<div class="tooltip tooltip-portlet tooltip bs-tooltip-'+l+'" role="tooltip">                            <div class="tooltip-arrow arrow"></div>                            <div class="tooltip-inner"></div>                        </div>'});KTUtil.data(c).set("tooltip",r)}}},removeTooltips:function(){if(a.options.tooltips){var t=KTUtil.find(a.head,"[data-ktportlet-tool=remove]");t&&KTUtil.data(t).has("tooltip")&&KTUtil.data(t).get("tooltip").dispose();var e=KTUtil.find(a.head,"[data-ktportlet-tool=reload]");e&&KTUtil.data(e).has("tooltip")&&KTUtil.data(e).get("tooltip").dispose();var n=KTUtil.find(a.head,"[data-ktportlet-tool=toggle]");n&&KTUtil.data(n).has("tooltip")&&KTUtil.data(n).get("tooltip").dispose();var i=KTUtil.find(a.head,"[data-ktportlet-tool=fullscreen]");i&&KTUtil.data(i).has("tooltip")&&KTUtil.data(i).get("tooltip").dispose()}},reload:function(){l.eventTrigger("reload")},toggle:function(){KTUtil.hasClass(n,"kt-portlet--collapse")||KTUtil.hasClass(n,"kt-portlet--collapsed")?l.expand():l.collapse()},collapse:function(){if(!1!==l.eventTrigger("beforeCollapse")){KTUtil.slideUp(a.body,a.options.bodyToggleSpeed,function(){l.eventTrigger("afterCollapse")}),KTUtil.addClass(n,"kt-portlet--collapse");var t=KTUtil.find(a.head,"[data-ktportlet-tool=toggle]");t&&KTUtil.data(t).has("tooltip")&&KTUtil.data(t).get("tooltip").updateTitleContent(a.options.tools.toggle.expand)}},expand:function(){if(!1!==l.eventTrigger("beforeExpand")){KTUtil.slideDown(a.body,a.options.bodyToggleSpeed,function(){l.eventTrigger("afterExpand")}),KTUtil.removeClass(n,"kt-portlet--collapse"),KTUtil.removeClass(n,"kt-portlet--collapsed");var t=KTUtil.find(a.head,"[data-ktportlet-tool=toggle]");t&&KTUtil.data(t).has("tooltip")&&KTUtil.data(t).get("tooltip").updateTitleContent(a.options.tools.toggle.collapse)}},fullscreen:function(t){if("off"===t||KTUtil.hasClass(i,"kt-portlet--fullscreen")&&KTUtil.hasClass(n,"kt-portlet--fullscreen"))l.eventTrigger("beforeFullscreenOff"),KTUtil.removeClass(i,"kt-portlet--fullscreen"),KTUtil.removeClass(n,"kt-portlet--fullscreen"),l.removeTooltips(),l.setupTooltips(),a.foot&&(KTUtil.css(a.body,"margin-bottom",""),KTUtil.css(a.foot,"margin-top","")),l.eventTrigger("afterFullscreenOff");else{if(l.eventTrigger("beforeFullscreenOn"),KTUtil.addClass(n,"kt-portlet--fullscreen"),KTUtil.addClass(i,"kt-portlet--fullscreen"),l.removeTooltips(),l.setupTooltips(),a.foot){var e=parseInt(KTUtil.css(a.foot,"height")),o=parseInt(KTUtil.css(a.foot,"height"))+parseInt(KTUtil.css(a.head,"height"));KTUtil.css(a.body,"margin-bottom",e+"px"),KTUtil.css(a.foot,"margin-top","-"+o+"px")}l.eventTrigger("afterFullscreenOn")}},eventTrigger:function(t){for(var e=0;e<a.events.length;e++){var n=a.events[e];n.name==t&&(1==n.one?0==n.fired&&(a.events[e].fired=!0,n.handler.call(this,a)):n.handler.call(this,a))}},addEvent:function(t,e,n){return a.events.push({name:t,handler:e,one:n,fired:!1}),a}};return a.setDefaults=function(t){o=t},a.remove=function(){return l.remove(html)},a.initSticky=function(){return l.initSticky()},a.updateSticky=function(){return l.updateSticky()},a.resetSticky=function(){return l.resetSticky()},a.destroySticky=function(){l.resetSticky(),window.removeEventListener("scroll",l.onScrollSticky)},a.reload=function(){return l.reload()},a.setContent=function(t){return l.setContent(t)},a.toggle=function(){return l.toggle()},a.collapse=function(){return l.collapse()},a.expand=function(){return l.expand()},a.fullscreen=function(){return l.fullscreen("on")},a.unFullscreen=function(){return l.fullscreen("off")},a.getBody=function(){return l.getBody()},a.getSelf=function(){return l.getSelf()},a.on=function(t,e){return l.addEvent(t,e)},a.one=function(t,e){return l.addEvent(t,e,!0)},l.construct.apply(a,[e]),a}},KTScrolltop=function(t,e){var a=this,n=KTUtil.get(t),i=KTUtil.get("body");if(n){var o={offset:300,speed:600,toggleClass:"kt-scrolltop--on"},l={construct:function(t){return KTUtil.data(n).has("scrolltop")?a=KTUtil.data(n).get("scrolltop"):(l.init(t),l.build(),KTUtil.data(n).set("scrolltop",a)),a},init:function(t){a.events=[],a.options=KTUtil.deepExtend({},o,t)},build:function(){navigator.userAgent.match(/iPhone|iPad|iPod/i)?(window.addEventListener("touchend",function(){l.handle()}),window.addEventListener("touchcancel",function(){l.handle()}),window.addEventListener("touchleave",function(){l.handle()})):window.addEventListener("scroll",function(){l.handle()}),KTUtil.addEvent(n,"click",l.scroll)},handle:function(){window.pageYOffset>a.options.offset?KTUtil.addClass(i,a.options.toggleClass):KTUtil.removeClass(i,a.options.toggleClass)},scroll:function(t){t.preventDefault(),KTUtil.scrollTop(0,a.options.speed)},eventTrigger:function(t,e){for(var n=0;n<a.events.length;n++){var i=a.events[n];i.name==t&&(1==i.one?0==i.fired&&(a.events[n].fired=!0,i.handler.call(this,a,e)):i.handler.call(this,a,e))}},addEvent:function(t,e,n){a.events.push({name:t,handler:e,one:n,fired:!1})}};return a.setDefaults=function(t){o=t},a.on=function(t,e){return l.addEvent(t,e)},a.one=function(t,e){return l.addEvent(t,e,!0)},l.construct.apply(a,[e]),!0,a}},KTTabPage=function(t,e){var a=KTApp,n=KTUtil,i=this;if(!($(t).length>0)){var o={tabNameLength:10,toLeft:$(".to-left"),toRight:$(".to-right"),tool:{refreshPage:$(".refresh-page"),closeOther:$(".close-other"),closeAll:$(".close-all")},containerScroll:$(".container-scroll"),conTabs:$(".con-tabs"),pageContainer:$(".page-container"),tabPage:$(".tab-page")},l={index:1,construct:function(t){return l.init(t),l.build(),i},build:function(){o.toLeft.click(function(){var t=Number(o.conTabs.css("margin-left").replace("px",""));if(0!==t){var e=t+.8*l.calcWidth(o.containerScroll);e>0&&(e=0),o.conTabs.animate({marginLeft:e+"px"},"fast")}}),o.toRight.click(function(){var t=Number(o.conTabs.css("margin-left").replace("px","")),e=l.calcWidth(o.containerScroll),a=l.calcWidth(o.conTabs.children()),n=t-.8*e;Math.abs(n)>a-e&&(n=-1*(a-e)),n>0&&(n=0),o.conTabs.animate({marginLeft:n+"px"},"fast")}),o.tool.refreshPage.click(function(){l.refreshActivePage()}),o.tool.closeAll.click(function(){var t=null;o.conTabs.children().each(function(){var e=$(this),a=e.find(".tab-close");null!=a&&a.length>0?l.closeTab(e):t=e}),null!=t&&l.setTabState(t.find("a.btn"),!0),l.toActiveTab()}),o.tool.closeOther.click(function(){o.conTabs.children().each(function(){var t=$(this),e=t.find(".tab-close");null!=e&&e.length>0&&!t.hasClass("active")&&l.closeTab(t)}),l.toActiveTab()})},init:function(){l.bindClickTab()},bindClose:function(){o.conTabs.find(".tab-close").unbind("click").click(function(){l.closeTab($(this).parents("li"))})},bindClickTab:function(){var t;o.conTabs.on("click","a.btn",function(){var e=$(this);return e.data("alreadyClicked")?(console.log("dblclick"),e.data("alreadyClicked",!1),clearTimeout(t),e.parent().hasClass("active")&&l.refreshActivePage()):(e.data("alreadyClicked",!0),t=setTimeout(function(){e.data("alreadyClicked",!1),console.log("click"),e.parent().hasClass("active")||(e.data("alreadyClicked",!1),o.conTabs.children(".active").removeClass("active"),o.pageContainer.children(".active").removeClass("active"),l.setTabState(e,!0),l.toActiveTab(),l.customCallback())},200)),!1})},refreshActivePage:function(t){KTUtil.isBlank(t)&&(t=o.conTabs.children(".active").find("a.btn").attr("data-url"));var e=o.pageContainer.find('iframe.page-frame[src="'+t+'"]');e.length&&e.attr("src",t)},showWaitTip:function(){a.blockPage({overlayColor:"#000000",type:"loader",state:"success",message:"请稍候..."})},hideWaitTip:function(){a.unblockPage()},setTabState:function(t,e){var a=t.attr("data-url");e?(o.pageContainer.find('iframe.page-frame[src="'+a+'"]').addClass("active"),t.parent().addClass("active")):(o.pageContainer.find('iframe.page-frame[src="'+a+'"]').removeClass("active"),t.parent().removeClass("active"))},closeTab:function(t){var e,a=t.find("a").data("url");t.hasClass("active")&&(null!=(e=t.prev())&&0!==e.length||(e=t.next())),t.remove(),o.pageContainer.find('iframe.page-frame[src="'+a+'"]').remove(),null!=e&&(l.setTabState(e.find("a.btn"),!0),l.toActiveTab(),l.customCallback())},closeTabByUrl:function(t){var e=o.conTabs.find('a.btn[data-url="'+t+'"]');null!=e&&e.length>0?l.closeTab(e.parent()):console.warn("关闭页面["+t+"]失败,url未在应用中打开")},addTab:function(t,e,a){if(!n.isBlank(e)){if(l.needOpen(e)){l.index++;var i='<li class="active"><a class="btn btn-default m-btn--icon tab" href="javascript:;" data-url="'+e+'" title="'+(t=t.trim())+'" target="iframe-'+l.index+'" data-alreadyClicked="false"><span>'+l.getTabName(t)+(void 0===a||a?'<i class="tab-close la la-close"></i>':"")+"</span></a></li>",r='<iframe src="'+e+'" frameborder="0" name="iframe-'+l.index+'" class="page-frame active animation-fade"></iframe>';o.conTabs.children(".active").removeClass("active"),o.pageContainer.children(".active").removeClass("active"),o.conTabs.append(i),o.pageContainer.append(r),o.conTabs.width(l.calcWidth(o.conTabs.children())),l.bindClose()}else l.setTabState(o.conTabs.find(".active").find("a.btn"),!1),l.setTabState(o.conTabs.find('[data-url="'+e+'"]'),!0),l.customCallback();l.toActiveTab()}},customCallback:function(){var t=o.pageContainer.children(".active");if(t.length>0&&void 0!==t[0].contentWindow.KTTab&&(n.isFunction(t[0].contentWindow.KTTab.needRefresh)&&t[0].contentWindow.KTTab.needRefresh()&&l.refreshActivePage(),n.isFunction(t[0].contentWindow.KTTab.needSubmitForm)&&t[0].contentWindow.KTTab.needSubmitForm())){var e=$(t[0].contentDocument).find(".btn.btn-search");e.length>0&&e.click()}},toActiveTab:function(){var t=o.conTabs.find(".active"),e=l.calcWidth(t),a=l.calcWidth(t.prevAll()),n=l.calcWidth(o.containerScroll),i=l.calcWidth(o.conTabs.children()),r=Number(o.conTabs.css("margin-left").replace("px",""));i>n?Math.abs(r)>a?r=-1*a:Math.abs(r)+n<a+e&&(r=-1*(a+e-n)):r=0,o.conTabs.animate({marginLeft:r+"px"},"fast")},calcWidth:function(t){if(null!=t&&t.length>0){var e=0;return $(t).each(function(){e+=$(this).outerWidth(!0)}),e+=30,Math.ceil(e)}return 0},getTabName:function(t){return n.isNotBlank(t)?n.subStr(t,o.tabNameLength):"新建标签页"},needOpen:function(t){return!!n.isNotBlank(t)&&0===o.conTabs.find('[data-url="'+t+'"]').length}};return i.addTab=function(t,e,a){return l.addTab(t,e,a)},i.closeTabByUrl=function(t){return l.closeTabByUrl(t)},i.refresh=function(t){l.refreshActivePage(t)},l.construct.apply(i,[e]),i}},KTTab={needRefresh:function(){return!1},needSubmitForm:function(){return!1}},KTToggle=function(t,e){var a=this,n=KTUtil.get(t);KTUtil.get("body");if(n){var i={togglerState:"",targetState:""},o={construct:function(t){return KTUtil.data(n).has("toggle")?a=KTUtil.data(n).get("toggle"):(o.init(t),o.build(),KTUtil.data(n).set("toggle",a)),a},init:function(t){a.element=n,a.events=[],a.options=KTUtil.deepExtend({},i,t),a.target=KTUtil.get(a.options.target),a.targetState=a.options.targetState,a.togglerState=a.options.togglerState,a.state=KTUtil.hasClasses(a.target,a.targetState)?"on":"off"},build:function(){KTUtil.addEvent(n,"mouseup",o.toggle)},toggle:function(t){return o.eventTrigger("beforeToggle"),"off"==a.state?o.toggleOn():o.toggleOff(),o.eventTrigger("afterToggle"),t.preventDefault(),a},toggleOn:function(){return o.eventTrigger("beforeOn"),KTUtil.addClass(a.target,a.targetState),a.togglerState&&KTUtil.addClass(n,a.togglerState),a.state="on",o.eventTrigger("afterOn"),o.eventTrigger("toggle"),a},toggleOff:function(){return o.eventTrigger("beforeOff"),KTUtil.removeClass(a.target,a.targetState),a.togglerState&&KTUtil.removeClass(n,a.togglerState),a.state="off",o.eventTrigger("afterOff"),o.eventTrigger("toggle"),a},eventTrigger:function(t){for(var e=0;e<a.events.length;e++){var n=a.events[e];n.name==t&&(1==n.one?0==n.fired&&(a.events[e].fired=!0,n.handler.call(this,a)):n.handler.call(this,a))}},addEvent:function(t,e,n){return a.events.push({name:t,handler:e,one:n,fired:!1}),a}};return a.setDefaults=function(t){i=t},a.getState=function(){return a.state},a.toggle=function(){return o.toggle()},a.toggleOn=function(){return o.toggleOn()},a.toggleOff=function(){return o.toggleOff()},a.on=function(t,e){return o.addEvent(t,e)},a.one=function(t,e){return o.addEvent(t,e,!0)},o.construct.apply(a,[e]),a}},KTTool=function(){var t=KTUtil,e=KTApp,a={currentUser:"current_user",httpCode:{success:200,bad_request:400,unauthorized:403,internalServerError:500},commonTips:{unauthorized:"无权访问",delete:{title:"确定要删除吗？",subtitle:"删除后无法恢复，请谨慎操作",success:"数据已删除"},save:{default:"您的数据已保存!",add:"您新增的数据已保存!",update:"您修改的数据已保存!"},noIds:"请在下方表格中勾选需要操作的数据后重试",success:"操作成功",fail:"操作失败"},urlSuffix:{add:"add/",deleteById:"delete/",input:"input/",saveData:"save/data",select:"select",exportData:"export/data",importData:"import/data"},dataTable:{page:{size:15},layout:{height:435}}},n=null,i=function(t){return void 0!==t?$(t).parents(".kt-form").find(".auto-params").serialize():null},o=function(e,a,n,i,o){null==n&&(n=!0),null==i&&(i=!0);var l=$(e).parents(".kt-form");if(!i||l.valid())if(t.setButtonWait(e),null!=l&&l.length>0){if(t.isBlank(a)&&(a=l.attr("data-action"),a=r(a,"saveData",null),t.isBlank(a)))return void t.offButtonWait(e);t.ajax({url:a,data:l.serialize(),error:function(a,n,i){t.offButtonWait(e),t.ajaxError(a,n,i)},fail:function(){t.offButtonWait(e)},success:function(a){if(t.offButtonWait(e),n){var i=l.find("#id");null!=i&&i.length>0?t.isBlank(i.val())?(y(KTTool.commonTips.success,KTTool.commonTips.save.add),i.val(a.data.id)):y(KTTool.commonTips.success,KTTool.commonTips.save.update):y(KTTool.commonTips.success,KTTool.commonTips.save.default)}t.isFunction(o)&&o(a)}})}else C("KTTool.saveData() -> 缺少表单对象")},l=function(t){var e=$(t).parents(".kt-form").find(".kt_datatable");void 0!==e&&e.length>0&&e.KTDatatable().reload()},r=function(e,a,i){if(t.isBlank(e)){if(!c())return null;e=n+KTTool.urlSuffix[a]+(t.isNotBlank(i)?i:"")}return e},s=function(t,e){return null!=t&&0!==t.length||(e&&w(KTTool.commonTips.fail,KTTool.commonTips.noIds),!1)},d=function(t){return t.KTDatatable().getValue()},c=function(){return!!t.isNotBlank(n)||(C("请使用KTTool.setBaseUrl('string');设置业务url根目录"),!1)},u=function(e){return t.isBlank(e)&&(e="success"),"table-actions btn btn-sm btn-icon btn-icon-md btn-light-hover-"+e},f=function(e,a,n){return t.isBlank(n)&&(n="."),e.split(n).reduce(function(t,e){return null!==t&&void 0!==t[e]?t[e]:null},a)},p=function(t){var e=document.createElement("form");e.setAttribute("action",t),e.setAttribute("method","post"),e.setAttribute("style","display:none"),document.body.appendChild(e),e.submit(),document.body.removeChild(e)},g=function(t){var e=null;return void 0===t||t?null==(e=k(a.currentUser))?(e=m(),T(a.currentUser,e)):e=$.parseJSON(e):(e=m(),T(a.currentUser,e)),e},m=function(){var e={},a=function(e){var a={};return t.isArray(e)?($(e).each(function(t,e){var n=e.split(":"),i=0;!function t(e){var a=n[i++];void 0!==e[a]&&null!==e[a]?"object"!=typeof e[a]&&(e[a]={}):e[a]={},i===n.length?e[a]=!0:t(e[a])}(a)}),a):null};return t.ajax({async:!1,url:basePath+"/auth/sys/user/current",success:function(t){e=t.data}}),void 0!==e.roleList&&(e.role=a(e.roleList)),void 0!==e.permissionList&&(e.permissions=a(e.permissionList)),e},h=function(t){var e=g(!0);return b(t,e.permissions)},v=function(t){var e=g(!0);return b(t,e.role)},b=function(e,a){return!(!t.isNotBlank(e)||null==a||"object"!=typeof a)&&Boolean(f(e,a,":"))},k=function(t){var e;return localStorage&&(e=localStorage.getItem(t)),null==e&&(e=Cookies.get(t)),e},T=function(e,a){t.isNotBlank(e)&&"object"==typeof a&&(a=JSON.stringify(a)),localStorage&&localStorage.setItem(e,a),Cookies.set(e,a)},_=function(t,e){$(e).each(function(e,a){t.delete_node(t.get_node(a,!1))})},K=function(t){return"string"==typeof t&&(t=$(t).jstree(!0)),t},y=function(e,a){U()?toastr.success(a,e):t.alertSuccess(e,a)},w=function(e,a){U()?toastr.warning(a,e):t.alertWarning(e,a)},U=function(){var t=!0,e=KTTool.getCache("preference-settings");return KTUtil.isNotBlank(e)&&(t=$.parseJSON(e).simpleTip),t},C=function(t){console.warn(t)},S=function(e){return"undefined"!=typeof sysDict&&t.isNotBlank(e)?sysDict[e]:null},x=function(t){var e=S(t);if(null!=e&&e.length>0){var a={};return $(e).each(function(t,e){a[e.code]=e}),a}return null},D=function(t,e){var a=S(t);return null!=a&&a.length>0&&$(a).each(function(t,a){if(a.code===e)return a}),null};return{init:function(t){},setBaseUrl:function(t){!function(t){n=t}(t)},getBaseUrl:function(){return n},importData:function(t){!function(t){e.openPage("导入数据",basePath+"/auth/sys/import/excel/data/"+t)}(t)},exportData:function(e,a){!function(e,a){t.setButtonWait(e);var n=$(e).parents(".kt-form");t.isBlank(a)&&(a=r(a,"exportData",null),t.isBlank(a))?t.offButtonWait(e):(a.indexOf("?")>-1?a+="&"+n.serialize():a+="?"+n.serialize(),p(a),t.offButtonWait(e))}(e,a)},saveData:function(t,e,a,n,i){o(t,e,a,n,i)},saveAndClose:function(t,a,n,i){o(t,a,n,i,function(){e.closeCurrentPage()})},addData:function(a,n,o,l){!function(a,n,o,l){if(void 0!==a&&t.setButtonWait(a),!t.isBlank(o)||(o=r(o,"add",l),!t.isBlank(o))){var s=i(a);t.isNotBlank(s)&&(o+="?"+s),t.isBlank(n)&&(n=$(a).text(),n=t.isBlank(n)?"新增数据":n.trim()),e.openPage(n,o),void 0!==a&&t.offButtonWait(a)}}(a,n,o,l)},deleteById:function(e,a,n,i,o){!function(e,a,n,i,o){t.alertConfirm(KTTool.commonTips.delete.title,KTTool.commonTips.delete.subtitle,function(){void 0===i&&(i=!0);var l=$(e).parents("tr.m-datatable__row"),s=$(e).parents(".kt-form").find(".kt_datatable");t.isBlank(n)&&(n=r(n,"deleteById",a),t.isBlank(n))||t.ajax({wait:l,url:n,fail:function(t){},success:function(e){if(i&&KTTool.successTip(KTTool.commonTips.success,KTTool.commonTips.delete.success),void 0!==s&&s.length>0){var n=s.KTDatatable();n.setActive(a),n.removeRows(n.getSelectedRecords())}t.isFunction(o)&&o(e)}})})}(e,a,n,i,o)},deleteData:function(e,a,n,i,o){!function(e,a,n,i,o){var l=$(e).parents(".kt-form").find(".kt_datatable");if(t.isBlank(a)){if(!(void 0!==l&&l.length>0))return void C("无法获取要删除的数据id");var c=d(l);if(!s(c,!0))return;a=c.join(",")}t.alertConfirm(KTTool.commonTips.delete.title,KTTool.commonTips.delete.subtitle,function(){t.setButtonWait(e),void 0===i&&(i=!0),t.isBlank(n)&&(n=r(n,"deleteById",a),t.isBlank(n))?t.offButtonWait(e):t.ajax({url:n,wait:l,error:function(a,n,i){t.offButtonWait(e),t.ajaxError(a,n,i)},fail:function(){t.offButtonWait(e)},success:function(a){if(t.offButtonWait(e),i&&KTTool.successTip(KTTool.commonTips.success,KTTool.commonTips.delete.success),void 0!==l&&l.length>0){var n=l.KTDatatable();n.removeRows(n.getSelectedRecords())}t.isFunction(o)&&o(a)}})})}(e,a,n,i,o)},editById:function(a,n,i,o,l){!function(a,n,i,o,l){o=r(o,"input",n),t.isBlank(o)||(t.isBlank(i)&&(i=$(a).text(),t.isBlank(i)&&(i="修改数据")),e.openPage(i,o),t.isFunction(l)&&l(res))}(a,n,i,o,l)},selectData:function(t){l(t)},initDataTable:function(e){return function(e){var a=e.url;if(!t.isBlank(a)||(a=r(e.url,"select",null),delete e.url,!t.isBlank(a))){var n={selector:".kt_datatable",data:{type:"remote",source:{autoQuery:!0,read:{url:a,map:function(t){if(void 0!==t&&KTTool.httpCode.success===t.code)return void 0!==t.data.records?t.data.records:t.data}}},saveState:{cookie:!1,webstorage:!0},pageSize:KTTool.dataTable.page.size,serverPaging:!0,serverFiltering:!0,serverSorting:!0},toolbar:{items:{pagination:{pagination:[10,15,20,30,50,100,-1]}}},layout:{theme:"default",class:"",scroll:!0,height:KTTool.dataTable.layout.height,footer:!1},search:{input:".query-modular input, .query-modular select",onEnter:!0},sortable:!0,pagination:!0};e=$.extend(!0,{},n,e);var i=$(e.selector).parents("form.kt-form");if(void 0!==i&&i.length>0){var o=i.find(".btn-search");void 0!==o&&o.length>0&&o.click(function(){l(this)});var s=i.find(".btn-reset");void 0!==s&&s.length>0&&s.click(function(){i.resetForm();var t=i.find(".select-picker");void 0!==t&&t.length>0&&i.find(".select-picker").trigger("change")})}return $(e.selector).KTDatatable(e)}}(e)},queryParams:function(e){return function(e){var a=e.serializeArray();if(void 0!==a&&a.length>0){for(var n={},i=0;i<a.length;i++)t.isNotBlank(a[i].value)&&(n[a[i].name]=a[i].value);return n}return null}(e)},infoTip:function(e,a){!function(e,a){U()?toastr.info(a,e):t.alertInfo(e,a)}(e,a)},successTip:function(t,e){y(t,e)},warnTip:function(t,e){w(t,e)},errorTip:function(e,a){!function(e,a){U()?toastr.error(a,e):t.alertError(e,a)}(e,a)},getDictElement:function(e,a){return function(e,a){var n=a[e];return null==n&&null!=a&&a.length>0&&t.isNotBlank(a[0].css)&&(n={css:"m-badge m-badge--success m-badge--wide",name:e}),null!=n?t.isNotBlank(n.css)?'<span class="'+n.css+'">'+n.name+"</span>":n.name:e}(e,a)},getSysDictArray:function(t){return S(t)},getSysDictsObject:function(t){return x(t)},getSysDictObjectByQuery:function(t,e){return D(t,e)},getSysDictNameByQuery:function(t,e){return function(t,e){var a=D(t,e);return null!=a?a.name:null}(t,e)},hasPermissions:function(t){return h(t)},notHasPermissions:function(t){return function(t){return!h(t)}(t)},hasRole:function(t){return v(t)},notHasRole:function(t){return function(t){return!v(t)}(t)},getUser:function(t){return g(t)},getCache:function(t){return k(t)},setCache:function(t,e){T(t,e)},getObject:function(t,e,a){return f(t,e,a)},cacheRemove:function(t){!function(t){localStorage&&localStorage.removeItem(t),Cookies.remove(t)}(t)},getActionsBtnClass:function(t){return u(t)},downloadFile:function(t){p(t)},ACTIONS_INFO:u("info"),ACTIONS_SUCCESS:u("success"),ACTIONS_ACCENT:u("accent"),ACTIONS_WARN:u("warning"),ACTIONS_DANGER:u("danger"),getTree:function(t){return K(t)},saveNode:function(e,a){!function(e,a){var n=(e=K(e)).get_node(a.id,!1);if(null!=n&&n)t.isString(a.type)&&e.set_type(n,a.type),t.isString(a.text)&&e.rename_node(n,a.text),t.isString(a.icon)&&e.set_icon(n,a.icon);else{var i=e.get_node(a.pId,!1);e.is_open(i)||e.is_leaf(i)?(e.create_node(i,a),e.is_open(i)||e.open_node(i)):e.open_node(i)}}(e,a)},deleteNode:function(e,a){!function(e,a){e=K(e),t.isNumber(a)?e.delete_node(e.get_node(a,!1)):t.isString(a)?_(e,a.split(",")):t.isArray(a)&&_(e,a)}(e,a)},getOperationNodes:function(t){return function(t){for(var e=$.jstree.reference(t.reference),a=e.get_node(t.reference),n=e.get_selected(),i=0;i<n.length;i++)if(n[i]==a.id)return n;return e.deselect_all(),e.select_node(a),[a.id]}(t)},getClickNode:function(t){return function(t){return $.jstree.reference(t.reference).get_node(t.reference)}(t)},getCheckedNodes:function(e,a){return function(e,a){e=K(e);var n=[];for(var i in e._model.data)(e.is_undetermined(i)||e.is_checked(i))&&(void 0!==e._model.data[i].id&&"#"==e._model.data[i].id||n.push(t.isNotBlank(a)?e._model.data[i][a]:e._model.data[i]));return n}(e,a)},checkNodes:function(t,e){!function(t,e){var a=(t=K(t)).settings.checkbox.cascade;t.settings.checkbox.cascade="","string"==typeof e&&(e=e.split(",")),t.check_node(e),t.settings.checkbox.cascade=a}(t,e)},checkAll:function(t){!function(t){(t=K(t)).check_all()}(t)},unCheckAll:function(t){!function(t){(t=K(t)).uncheck_all()}(t)},getSelectData:function(t){return d(t)},checkSelectDataIsNotEmpty:function(t,e){return s(t,e)},commonTips:a.commonTips,commonDict:x("commonStatus"),dataTable:a.dataTable,urlSuffix:a.urlSuffix,httpCode:a.httpCode,currentUser:a.currentUser}}();$(document).ready(function(){KTTool.init({})});var KTWizard=function(t,e){var a=this,n=KTUtil.get(t);KTUtil.get("body");if(n){var i={startStep:1,manualStepForward:!1},o={construct:function(t){return KTUtil.data(n).has("wizard")?a=KTUtil.data(n).get("wizard"):(o.init(t),o.build(),KTUtil.data(n).set("wizard",a)),a},init:function(t){a.element=n,a.events=[],a.options=KTUtil.deepExtend({},i,t),a.steps=KTUtil.findAll(n,'[data-ktwizard-type="step"]'),a.btnSubmit=KTUtil.find(n,'[data-ktwizard-type="action-submit"]'),a.btnNext=KTUtil.find(n,'[data-ktwizard-type="action-next"]'),a.btnPrev=KTUtil.find(n,'[data-ktwizard-type="action-prev"]'),a.btnLast=KTUtil.find(n,'[data-ktwizard-type="action-last"]'),a.btnFirst=KTUtil.find(n,'[data-ktwizard-type="action-first"]'),a.events=[],a.currentStep=1,a.stopped=!1,a.totalSteps=a.steps.length,a.options.startStep>1&&o.goTo(a.options.startStep),o.updateUI()},build:function(){KTUtil.addEvent(a.btnNext,"click",function(t){t.preventDefault(),o.goNext()}),KTUtil.addEvent(a.btnPrev,"click",function(t){t.preventDefault(),o.goPrev()}),KTUtil.addEvent(a.btnFirst,"click",function(t){t.preventDefault(),o.goFirst()}),KTUtil.addEvent(a.btnLast,"click",function(t){t.preventDefault(),o.goLast()}),KTUtil.on(n,'a[data-ktwizard-type="step"]',"click",function(){var t=KTUtil.index(this)+1;t!==a.currentStep&&o.goTo(t)})},goTo:function(t){if(!(t===a.currentStep||t>a.totalSteps||t<0)){var e;if(e=(t=t?parseInt(t):o.getNextStep())>a.currentStep?o.eventTrigger("beforeNext"):o.eventTrigger("beforePrev"),!0!==a.stopped)return!1!==e&&(o.eventTrigger("beforeChange"),a.currentStep=t,o.updateUI(),o.eventTrigger("change")),t>a.startStep?o.eventTrigger("afterNext"):o.eventTrigger("afterPrev"),a;a.stopped=!1}},stop:function(){a.stopped=!0},start:function(){a.stopped=!1},isLastStep:function(){return a.currentStep===a.totalSteps},isFirstStep:function(){return 1===a.currentStep},isBetweenStep:function(){return!1===o.isLastStep()&&!1===o.isFirstStep()},goNext:function(){return o.goTo(o.getNextStep())},goPrev:function(){return o.goTo(o.getPrevStep())},goLast:function(){return o.goTo(a.totalSteps)},goFirst:function(){return o.goTo(1)},updateUI:function(){var t="",e=a.currentStep-1;t=o.isLastStep()?"last":o.isFirstStep()?"first":"between",KTUtil.attr(a.element,"data-ktwizard-state",t);var n=KTUtil.findAll(a.element,'[data-ktwizard-type="step"]');if(n&&n.length>0)for(var i=0,l=n.length;i<l;i++)i==e?KTUtil.attr(n[i],"data-ktwizard-state","current"):i<e?KTUtil.attr(n[i],"data-ktwizard-state","done"):KTUtil.attr(n[i],"data-ktwizard-state","pending");var r=KTUtil.findAll(a.element,'[data-ktwizard-type="step-info"]');if(r&&r.length>0)for(i=0,l=r.length;i<l;i++)i==e?KTUtil.attr(r[i],"data-ktwizard-state","current"):KTUtil.removeAttr(r[i],"data-ktwizard-state");var s=KTUtil.findAll(a.element,'[data-ktwizard-type="step-content"]');if(s&&s.length>0)for(i=0,l=s.length;i<l;i++)i==e?KTUtil.attr(s[i],"data-ktwizard-state","current"):KTUtil.removeAttr(s[i],"data-ktwizard-state")},getNextStep:function(){return a.totalSteps>=a.currentStep+1?a.currentStep+1:a.totalSteps},getPrevStep:function(){return a.currentStep-1>=1?a.currentStep-1:1},eventTrigger:function(t){for(var e=0;e<a.events.length;e++){var n=a.events[e];n.name==t&&(1==n.one?0==n.fired&&(a.events[e].fired=!0,n.handler.call(this,a)):n.handler.call(this,a))}},addEvent:function(t,e,n){return a.events.push({name:t,handler:e,one:n,fired:!1}),a}};return a.setDefaults=function(t){i=t},a.goNext=function(){return o.goNext()},a.goPrev=function(){return o.goPrev()},a.goLast=function(){return o.goLast()},a.stop=function(){return o.stop()},a.start=function(){return o.start()},a.goFirst=function(){return o.goFirst()},a.goTo=function(t){return o.goTo(t)},a.getStep=function(){return a.currentStep},a.isLastStep=function(){return o.isLastStep()},a.isFirstStep=function(){return o.isFirstStep()},a.on=function(t,e){return o.addEvent(t,e)},a.one=function(t,e){return o.addEvent(t,e,!0)},o.construct.apply(a,[e]),a}};!function(t){var e="KTDatatable",a=KTUtil,n=KTApp,i=KTTool;t.fn.KTDatatable=function(o){if(0!==t(this).length){var l=this;l.debug=!1,l.API={record:null,value:null,params:null};var r={isInit:!1,cellOffset:110,iconOffset:15,stateId:"meta",ajaxParams:{},pagingObject:{},init:function(e){var a,n=!1;null===e.data.source&&(r.extractTable(),n=!0),r.setupBaseDOM.call(),r.setupDOM(l.table),r.setDataSourceQuery(r.getOption("data.source.read.params.query")),t(l).on("kt-datatable--on-layout-updated",r.afterRender),l.debug&&r.stateRemove(r.stateId),t.each(r.getOption("extensions"),function(e,a){"function"==typeof t.fn.KTDatatable[e]&&new t.fn.KTDatatable[e](l,a)}),"remote"!==e.data.type&&"local"!==e.data.type||((!1===e.data.saveState||!1===e.data.saveState.cookie&&!1===e.data.saveState.webstorage)&&r.stateRemove(r.stateId),"local"===e.data.type&&"object"==typeof e.data.source&&(l.dataSet=l.originalDataSet=r.dataMapCallback(e.data.source)),r.dataRender()),n&&(t(l.tableHead).find("tr").remove(),t(l.tableFoot).find("tr").remove()),r.setHeadTitle(),r.getOption("layout.footer")&&r.setHeadTitle(l.tableFoot),void 0!==e.layout.header&&!1===e.layout.header&&t(l.table).find("thead").remove(),void 0!==e.layout.footer&&!1===e.layout.footer&&t(l.table).find("tfoot").remove(),null!==e.data.type&&"local"!==e.data.type||(r.setupCellField.call(),r.setupTemplateCell.call(),r.setupSubDatatable.call(),r.setupSystemColumn.call(),r.redraw());var i=!1;return t(window).resize(function(){i||(a=t(this).width(),i=!0),t(this).width()!==a&&(a=t(this).width(),r.fullRender())}),t(l).height(""),t(r.getOption("search.input")).on("keyup",function(e){r.getOption("search.onEnter")&&13!==e.which||r.search(t(this).val())}),l},extractTable:function(){var e=[],n=t(l).find("tr:first-child th").get().map(function(a,n){var i=t(a).data("field");void 0===i&&(i=t(a).text().trim());var l={field:i,title:i};for(var r in o.columns)o.columns[r].field===i&&(l=t.extend(!0,{},o.columns[r],l));return e.push(l),i});o.columns=e;var i=[],r=[];t(l).find("tr").each(function(){t(this).find("td").length&&i.push(t(this).prop("attributes"));var e={};t(this).find("td").each(function(t,a){e[n[t]]=a.innerHTML.trim()}),a.isEmpty(e)||r.push(e)}),o.data.attr.rowProps=i,o.data.source=r},layoutUpdate:function(){r.setupSubDatatable.call(),r.setupSystemColumn.call(),r.setupHover.call(),void 0===o.detail&&1===r.getDepth()&&r.lockTable.call(),r.columnHide.call(),r.resetScroll(),r.isLocked()||(r.redraw.call(),r.isSubtable()||!0!==r.getOption("rows.autoHide")||r.autoHide(),t(l.table).find(".kt-datatable__row").css("height","")),r.rowEvenOdd.call(),r.sorting.call(),r.scrollbar.call(),r.isInit||(r.dropdownFix(),t(l).trigger("kt-datatable--on-init",{table:t(l.wrap).attr("id"),options:o}),r.isInit=!0),t(l).trigger("kt-datatable--on-layout-updated",{table:t(l.wrap).attr("id")})},lockTable:function(){var e={lockEnabled:!1,init:function(){e.lockEnabled=r.lockEnabledColumns(),0===e.lockEnabled.left.length&&0===e.lockEnabled.right.length||e.enable()},enable:function(){t(l.table).find("thead,tbody,tfoot").each(function(){var a=this;0===t(this).find(".kt-datatable__lock").length&&t(this).ready(function(){!function(a){if(t(a).find(".kt-datatable__lock").length>0)r.log("Locked container already exist in: ",a);else if(0!==t(a).find(".kt-datatable__row").length){var n=t("<div/>").addClass("kt-datatable__lock kt-datatable__lock--left"),i=t("<div/>").addClass("kt-datatable__lock kt-datatable__lock--scroll"),o=t("<div/>").addClass("kt-datatable__lock kt-datatable__lock--right");t(a).find(".kt-datatable__row").each(function(){var e=t("<tr/>").addClass("kt-datatable__row").data("obj",t(this).data("obj")).appendTo(n),a=t("<tr/>").addClass("kt-datatable__row").data("obj",t(this).data("obj")).appendTo(i),l=t("<tr/>").addClass("kt-datatable__row").data("obj",t(this).data("obj")).appendTo(o);t(this).find(".kt-datatable__cell").each(function(){var n=t(this).data("locked");void 0!==n?(void 0===n.left&&!0!==n||t(this).appendTo(e),void 0!==n.right&&t(this).appendTo(l)):t(this).appendTo(a)}),e.attr("data-id",t(this).data("id")),a.attr("data-id",t(this).data("id")),l.attr("data-id",t(this).data("id")),t(this).remove()}),e.lockEnabled.left.length>0&&(t(l.wrap).addClass("kt-datatable--lock"),t(n).appendTo(a)),(e.lockEnabled.left.length>0||e.lockEnabled.right.length>0)&&t(i).appendTo(a),e.lockEnabled.right.length>0&&(t(l.wrap).addClass("kt-datatable--lock"),t(o).appendTo(a))}else r.log("No row exist in: ",a)}(a)})})}};return e.init(),e},fullRender:function(){t(l.tableHead).empty(),r.setHeadTitle(),r.getOption("layout.footer")&&(t(l.tableFoot).empty(),r.setHeadTitle(l.tableFoot)),r.spinnerCallback(!0),t(l.wrap).removeClass("kt-datatable--loaded"),r.insertData()},lockEnabledColumns:function(){var e=t(window).width(),n=o.columns,i={left:[],right:[]};return t.each(n,function(t,n){void 0!==n.locked&&(void 0!==n.locked.left&&a.getBreakpoint(n.locked.left)<=e&&i.left.push(n.locked.left),void 0!==n.locked.right&&a.getBreakpoint(n.locked.right)<=e&&i.right.push(n.locked.right))}),i},afterRender:function(e,a){t(l).ready(function(){r.isLocked()&&r.redraw(),t(l.tableBody).css("visibility",""),t(l.wrap).addClass("kt-datatable--loaded"),r.spinnerCallback(!1)})},dropdownFix:function(){var e;t("body").on("show.bs.dropdown",".kt-datatable .kt-datatable__body",function(a){e=t(a.target).find(".dropdown-menu"),t("body").append(e.detach()),e.css("display","block"),e.position({my:"right top",at:"right bottom",of:t(a.relatedTarget)}),l.closest(".modal").length&&e.css("z-index","2000")}).on("hide.bs.dropdown",".kt-datatable .kt-datatable__body",function(a){t(a.target).append(e.detach()),e.hide()})},hoverTimer:0,isScrolling:!1,setupHover:function(){t(window).scroll(function(t){clearTimeout(r.hoverTimer),r.isScrolling=!0}),t(l.tableBody).find(".kt-datatable__cell").off("mouseenter","mouseleave").on("mouseenter",function(){if(r.hoverTimer=setTimeout(function(){r.isScrolling=!1},200),!r.isScrolling){var e=t(this).closest(".kt-datatable__row").addClass("kt-datatable__row--hover"),a=t(e).index()+1;t(e).closest(".kt-datatable__lock").parent().find(".kt-datatable__row:nth-child("+a+")").addClass("kt-datatable__row--hover")}}).on("mouseleave",function(){var e=t(this).closest(".kt-datatable__row").removeClass("kt-datatable__row--hover"),a=t(e).index()+1;t(e).closest(".kt-datatable__lock").parent().find(".kt-datatable__row:nth-child("+a+")").removeClass("kt-datatable__row--hover")})},adjustLockContainer:function(){if(!r.isLocked())return 0;var e=t(l.tableHead).width(),a=t(l.tableHead).find(".kt-datatable__lock--left").width(),n=t(l.tableHead).find(".kt-datatable__lock--right").width();void 0===a&&(a=0),void 0===n&&(n=0);var i=Math.floor(e-a-n);return t(l.table).find(".kt-datatable__lock--scroll").css("width",i),i},dragResize:function(){var e,a,n=!1,i=void 0;t(l.tableHead).find(".kt-datatable__cell").mousedown(function(o){i=t(this),n=!0,e=o.pageX,a=t(this).width(),t(i).addClass("kt-datatable__cell--resizing")}).mousemove(function(o){if(n){var r=t(i).index(),s=t(l.tableBody),d=t(i).closest(".kt-datatable__lock");if(d){var c=t(d).index();s=t(l.tableBody).find(".kt-datatable__lock").eq(c)}t(s).find(".kt-datatable__row").each(function(n,i){t(i).find(".kt-datatable__cell").eq(r).width(a+(o.pageX-e)).children().width(a+(o.pageX-e))}),t(i).children().css("width",a+(o.pageX-e))}}).mouseup(function(){t(i).removeClass("kt-datatable__cell--resizing"),n=!1}),t(document).mouseup(function(){t(i).removeClass("kt-datatable__cell--resizing"),n=!1})},initHeight:function(){if(o.layout.height&&o.layout.scroll){var e=t(l.tableHead).find(".kt-datatable__row").outerHeight(),a=t(l.tableFoot).find(".kt-datatable__row").outerHeight(),n=o.layout.height;e>0&&(n-=e),a>0&&(n-=a),n-=2,t(l.tableBody).css("max-height",n),t(l.tableBody).find(".kt-datatable__lock--scroll").css("height",n)}},setupBaseDOM:function(){l.initialDatatable=t(l).clone(),"TABLE"===t(l).prop("tagName")?(l.table=t(l).removeClass("kt-datatable").addClass("kt-datatable__table"),0===t(l.table).parents(".kt-datatable").length&&(l.table.wrap(t("<div/>").addClass("kt-datatable").addClass("kt-datatable--"+o.layout.theme)),l.wrap=t(l.table).parent())):(l.wrap=t(l).addClass("kt-datatable").addClass("kt-datatable--"+o.layout.theme),l.table=t("<table/>").addClass("kt-datatable__table").appendTo(l)),void 0!==o.layout.class&&t(l.wrap).addClass(o.layout.class),t(l.table).removeClass("kt-datatable--destroyed").css("display","block"),void 0===t(l).attr("id")&&(r.setOption("data.saveState",!1),t(l.table).attr("id",a.getUniqueID("kt-datatable--"))),r.getOption("layout.minHeight")&&t(l.table).css("min-height",r.getOption("layout.minHeight")),r.getOption("layout.height")&&t(l.table).css("max-height",r.getOption("layout.height")),null===o.data.type&&t(l.table).css("width","").css("display",""),l.tableHead=t(l.table).find("thead"),0===t(l.tableHead).length&&(l.tableHead=t("<thead/>").prependTo(l.table)),l.tableBody=t(l.table).find("tbody"),0===t(l.tableBody).length&&(l.tableBody=t("<tbody/>").appendTo(l.table)),void 0!==o.layout.footer&&o.layout.footer&&(l.tableFoot=t(l.table).find("tfoot"),0===t(l.tableFoot).length&&(l.tableFoot=t("<tfoot/>").appendTo(l.table)))},setupCellField:function(e){void 0===e&&(e=t(l.table).children());var a=o.columns;t.each(e,function(e,n){t(n).find(".kt-datatable__row").each(function(e,n){t(n).find(".kt-datatable__cell").each(function(e,n){void 0!==a[e]&&t(n).data(a[e])})})})},setupTemplateCell:function(e){void 0===e&&(e=l.tableBody);var s=o.columns;t(e).find(".kt-datatable__row").each(function(e,n){var o=t(n).data("obj")||{},d=r.getOption("rows.beforeTemplate");"function"==typeof d&&d(t(n),o,e),void 0===o&&(o={},t(n).find(".kt-datatable__cell").each(function(e,a){var n=t.grep(s,function(e,n){return t(a).data("field")===e.field})[0];void 0!==n&&(o[n.field]=t(a).text())})),t(n).find(".kt-datatable__cell").each(function(n,d){var c=t.grep(s,function(e,a){return t(d).data("field")===e.field})[0];if(void 0!==c)if(void 0!==c.dictType&&a.isNotBlank(c.dictType)&&(c.template=function(t){var e=null;return e="string"==typeof c.dictType?i.getSysDictsObject(c.dictType):c.dictType,i.getDictElement(t[c.field],e)}),void 0!==c.template){var u="";"string"==typeof c.template&&(u=r.dataPlaceholder(c.template,o)),"function"==typeof c.template?u=c.template(o,e,l):"undefined"!=typeof DOMPurify&&(u=DOMPurify.sanitize(u));var f=document.createElement("span");f.innerHTML=u,t(d).html(f),void 0!==c.overflow&&(t(f).css("overflow",c.overflow),t(f).css("position","relative"))}else t(d).find("span").attr({title:t(this).text()})});var c=r.getOption("rows.afterTemplate");"function"==typeof c&&c(t(n),o,e)}),t(e).find(".table-actions").each(function(){n.initTooltip(t(this))})},setupSystemColumn:function(){if(l.dataSet=l.dataSet||[],0!==l.dataSet.length){var e=o.columns;t(l.tableBody).find(".kt-datatable__row").each(function(a,n){t(n).find(".kt-datatable__cell").each(function(a,n){var i=t.grep(e,function(e,a){return t(n).data("field")===e.field})[0];if(void 0!==i){var o=t(n).text();if(void 0!==i.selector&&!1!==i.selector){if(t(n).find('.kt-checkbox [type="checkbox"]').length>0)return;t(n).addClass("kt-datatable__cell--check");var l=t("<label/>").addClass("kt-checkbox kt-checkbox--single").append(t("<input/>").attr("type","checkbox").attr("value",o).on("click",function(){t(this).is(":checked")?r.setActive(this):r.setInactive(this)})).append("&nbsp;<span></span>");void 0!==i.selector.class&&t(l).addClass(i.selector.class),t(n).children().html(l)}if(void 0!==i.subtable&&i.subtable){if(t(n).find(".kt-datatable__toggle-subtable").length>0)return;t(n).children().html(t("<a/>").addClass("kt-datatable__toggle-subtable").attr("href","#").attr("data-value",o).append(t("<i/>").addClass(r.getOption("layout.icons.rowDetail.collapse"))))}}})});var a=function(a){var n=t.grep(e,function(t,e){return void 0!==t.selector&&!1!==t.selector})[0];if(void 0!==n&&void 0!==n.selector&&!1!==n.selector){var i=t(a).find('[data-field="'+n.field+'"]');if(t(i).find('.kt-checkbox [type="checkbox"]').length>0)return;t(i).addClass("kt-datatable__cell--check");var o=t("<label/>").addClass("kt-checkbox kt-checkbox--single kt-checkbox--all").append(t("<input/>").attr("type","checkbox").on("click",function(){t(this).is(":checked")?r.setActiveAll(!0):r.setActiveAll(!1)})).append("&nbsp;<span></span>");void 0!==n.selector.class&&t(o).addClass(n.selector.class),t(i).children().html(o)}};o.layout.header&&a(t(l.tableHead).find(".kt-datatable__row").first()),o.layout.footer&&a(t(l.tableFoot).find(".kt-datatable__row").first())}},adjustCellsWidth:function(){var e=t(l.tableBody).innerWidth()-r.iconOffset,a=t(l.tableBody).find(".kt-datatable__row:first-child").find(".kt-datatable__cell").not(".kt-datatable__toggle-detail").not(":hidden").length;if(a>0){e-=r.iconOffset*a;var n=Math.floor(e/a);n<=r.cellOffset&&(n=r.cellOffset);var i={};t(l.table).find(".kt-datatable__row").find(".kt-datatable__cell").not(".kt-datatable__toggle-detail").not(":hidden").each(function(e,a){var o=n,r=t(a).data("width");if(void 0!==r)if("auto"===r){var s=t(a).data("field");if(i[s])o=i[s];else{var d=t(l.table).find('.kt-datatable__cell[data-field="'+s+'"]');o=i[s]=Math.max.apply(null,t(d).map(function(){return t(this).outerWidth()}).get())}}else o=r;t(a).children().css("width",Math.ceil(o))})}return l},adjustCellsHeight:function(){t.each(t(l.table).children(),function(e,a){for(var n=t(a).find(".kt-datatable__row").first().parent().find(".kt-datatable__row").length,i=1;i<=n;i++){var o=t(a).find(".kt-datatable__row:nth-child("+i+")");if(t(o).length>0){var l=Math.max.apply(null,t(o).map(function(){return t(this).outerHeight()}).get());t(o).css("height",Math.ceil(l))}}})},setupDOM:function(e){t(e).find("> thead").addClass("kt-datatable__head"),t(e).find("> tbody").addClass("kt-datatable__body"),t(e).find("> tfoot").addClass("kt-datatable__foot"),t(e).find("tr").addClass("kt-datatable__row"),t(e).find("tr > th, tr > td").addClass("kt-datatable__cell"),t(e).find("tr > th, tr > td").each(function(e,a){0===t(a).find("span").length&&t(a).wrapInner(t("<span/>").css("width",r.cellOffset))})},scrollbar:function(){var e={scrollable:null,tableLocked:null,initPosition:null,init:function(){var n=a.getViewPort().width;if(o.layout.scroll){t(l.wrap).addClass("kt-datatable--scroll");var i=t(l.tableBody).find(".kt-datatable__lock--scroll");t(i).find(".kt-datatable__row").length>0&&t(i).length>0?(e.scrollHead=t(l.tableHead).find("> .kt-datatable__lock--scroll > .kt-datatable__row"),e.scrollFoot=t(l.tableFoot).find("> .kt-datatable__lock--scroll > .kt-datatable__row"),e.tableLocked=t(l.tableBody).find(".kt-datatable__lock:not(.kt-datatable__lock--scroll)"),r.getOption("layout.customScrollbar")&&10!=a.detectIE()&&n>a.getBreakpoint("lg")?e.initCustomScrollbar(i[0]):e.initDefaultScrollbar(i)):t(l.tableBody).find(".kt-datatable__row").length>0&&!l.isLocked()&&(e.scrollHead=t(l.tableHead).find("> .kt-datatable__row"),e.scrollFoot=t(l.tableFoot).find("> .kt-datatable__row"),r.getOption("layout.customScrollbar")&&10!=a.detectIE()&&n>a.getBreakpoint("lg")?e.initCustomScrollbar(l.tableBody):e.initDefaultScrollbar(l.tableBody))}},initDefaultScrollbar:function(a){e.initPosition=t(a).scrollLeft(),t(a).css("overflow-y","auto").off().on("scroll",e.onScrolling),!0!==r.getOption("rows.autoHide")&&t(a).css("overflow-x","auto")},onScrolling:function(a){var n=t(this).scrollLeft(),i=t(this).scrollTop();t(e.scrollHead).css("left",-n),t(e.scrollFoot).css("left",-n),t(e.tableLocked).each(function(e,a){r.isLocked()&&(i-=1),t(a).css("top",-i)})},initCustomScrollbar:function(a){e.scrollable=a,r.initScrollbar(a),e.initPosition=t(a).scrollLeft(),t(a).off().on("scroll",e.onScrolling)}};return e.init(),e},initScrollbar:function(e,n){if(e&&e.nodeName)if(t(l.tableBody).css("overflow",""),a.hasClass(e,"ps"))t(e).data("ps").update();else{var i=new PerfectScrollbar(e,Object.assign({},{wheelSpeed:.5,swipeEasing:!0,minScrollbarLength:40,maxScrollbarLength:300,suppressScrollX:r.getOption("rows.autoHide")&&!r.isLocked()},n));t(e).data("ps",i),t(window).resize(function(){i.update()})}},setHeadTitle:function(e){void 0===e&&(e=l.tableHead),e=t(e)[0];var n=o.columns,i=e.getElementsByTagName("tr")[0],s=e.getElementsByTagName("td");void 0===i&&(i=document.createElement("tr"),e.appendChild(i)),t.each(n,function(e,n){var o=s[e];if(void 0===o&&(o=document.createElement("th"),i.appendChild(o)),void 0!==n.title&&(o.innerHTML=n.title,o.setAttribute("data-field",n.field),a.addClass(o,n.class),void 0!==n.autoHide&&(!0!==n.autoHide?o.setAttribute("data-autohide-disabled",n.autoHide):o.setAttribute("data-autohide-enabled",n.autoHide)),t(o).data(n)),void 0!==n.attr&&t.each(n.attr,function(t,e){o.setAttribute(t,e)}),void 0!==n.textAlign){var r=void 0!==l.textAlign[n.textAlign]?l.textAlign[n.textAlign]:"";a.addClass(o,r)}}),r.setupDOM(e)},dataRender:function(e){t(l.table).siblings(".kt-datatable__pager").removeClass("kt-datatable--paging-loaded");var a=function(){l.dataSet=l.dataSet||[],r.localDataUpdate();var e=r.getDataSourceParam("page");null!=e.size&&0!==e.size||(e.size=o.data.pageSize||10),null!=e.current&&0!==e.current||(e.current=1),e.total=l.dataSet.length;var a=Math.max(e.size*(e.current-1),0),n=Math.min(a+e.size,e.total);return l.dataSet=t(l.dataSet).slice(a,n),e},n=function(e){if(null==e||i.httpCode.success===e.code){var n=function(e,a){t(e.pager).hasClass("kt-datatable--paging-loaded")||(t(e.pager).remove(),e.init(a)),t(e.pager).off().on("kt-datatable--on-goto-page",function(n){t(e.pager).remove(),e.init(a)});var n=Math.max(a.size*(a.current-1),0),i=Math.min(n+a.size,a.total);r.localDataUpdate(),l.dataSet=t(l.dataSet).slice(n,i),r.insertData()};if(t(l.wrap).removeClass("kt-datatable--error"),o.pagination)if(o.data.serverPaging&&"local"!==o.data.type){i.httpCode.success!==e.code&&(i.errorTip("查询数据失败",e.message),e.data=[],e.data.current=0,e.data.size=15,e.data.total=0);var s=e.data;r.pagingObject=null!==s?r.paging(s):r.paging(a(),n)}else r.pagingObject=r.paging(a(),n);else r.localDataUpdate();r.insertData()}};"local"===o.data.type||!1===o.data.serverSorting&&"sort"===e||!1===o.data.serverFiltering&&"search"===e?setTimeout(function(){n(),r.setAutoColumns()}):r.getData().done(n)},insertData:function(){l.dataSet=l.dataSet||[];var e=r.getDataSourceParam(),n=e.pagination,i=(Math.max(n.current,1)-1)*n.size,s=Math.min(n.current,n.pages)*n.size,d={};void 0!==o.data.attr.rowProps&&o.data.attr.rowProps.length&&(d=o.data.attr.rowProps.slice(i,s));var c=document.createElement("tbody");c.style.visibility="hidden";var u=o.columns.length;if(t.each(l.dataSet,function(n,i){var s=document.createElement("tr");s.setAttribute("data-row",n),void 0!==i.id&&s.setAttribute("data-id",i.id),t(s).data("obj",i),void 0!==d[n]&&t.each(d[n],function(){s.setAttribute(this.name,this.value)});for(var f=0;f<u;f+=1){var p=o.columns[f],g=[];if(r.getObject("sort.field",e)===p.field&&g.push("kt-datatable__cell--sorted"),void 0!==p.textAlign){var m=void 0!==l.textAlign[p.textAlign]?l.textAlign[p.textAlign]:"";g.push(m)}void 0!==p.class&&g.push(p.class);var h=document.createElement("td");a.addClass(h,g.join(" ")),h.setAttribute("data-field",p.field),void 0!==p.autoHide&&(!0!==p.autoHide?h.setAttribute("data-autohide-disabled",p.autoHide):h.setAttribute("data-autohide-enabled",p.autoHide)),h.innerHTML=r.getObject(p.field,i),s.appendChild(h)}c.appendChild(s)}),0===l.dataSet.length){var f=document.createElement("span");a.addClass(f,"kt-datatable--error"),f.innerHTML=r.getOption("translate.records.noRecords"),c.appendChild(f),t(l.wrap).addClass("kt-datatable--error kt-datatable--loaded"),r.spinnerCallback(!1)}t(l.tableBody).replaceWith(c),l.tableBody=c,r.setupDOM(l.table),r.setupCellField([l.tableBody]),r.setupTemplateCell(l.tableBody),r.layoutUpdate()},updateTableComponents:function(){l.tableHead=t(l.table).children("thead"),l.tableBody=t(l.table).children("tbody"),l.tableFoot=t(l.table).children("tfoot")},getData:function(){var e={contentType:"application/json",dataType:"json",method:"POST",data:{},timeout:r.getOption("data.source.read.timeout")||3e4};if("local"===o.data.type&&(e.url=o.data.source),"remote"===o.data.type){var a=r.getDataSourceParam();if(r.getOption("data.serverPaging")?(void 0!==a.sort&&("asc"===a.sort.sort?a.page.ascs=[a.sort.field]:"desc"===a.sort.sort&&(a.page.descs=[a.sort.field])),delete a.sort):delete a.page,r.getOption("data.source.autoQuery")){var n=i.queryParams(t(l.table).parents("form.kt-form").find(".query-modular input,.query-modular select"));e.data=t.extend(!0,e.data,n)}e.data=t.extend({},e.data,a,r.getOption("data.source.read.params")),"string"!=typeof(e=t.extend({},e,r.getOption("data.source.read"))).url&&(e.url=r.getOption("data.source.read")),"string"!=typeof e.url&&(e.url=r.getOption("data.source")),e.method=r.getOption("data.source.read.method")||"POST",e.data=JSON.stringify(e.data)}var s=function(e,a,n){t(l).trigger("kt-datatable--on-ajax-fail",[e]),t(l.tableBody).html(t("<span/>").addClass("kt-datatable--error").html(r.getOption("translate.records.noRecords"))),t(l.wrap).addClass("kt-datatable--error kt-datatable--loaded"),r.spinnerCallback(!1)};return t.ajax(e).done(function(e,a,n){i.httpCode.success===e.code?(l.lastResponse=e,l.dataSet=l.originalDataSet=r.dataMapCallback(e),r.setAutoColumns(),t(l).trigger("kt-datatable--on-ajax-done",[l.dataSet])):(i.errorTip("查询数据失败",e.message),s(e.message))}).fail(function(t,e,a){s(t)}).always(function(){})},paging:function(e,n){var i={meta:null,pager:null,paginateEvent:null,pagerLayout:{pagination:null,info:null},callback:null,init:function(e){i.meta=e,i.meta.current=parseInt(i.meta.current),i.meta.pages=parseInt(i.meta.pages),i.meta.size=parseInt(i.meta.size),i.meta.total=parseInt(i.meta.total),i.meta.pages=Math.max(Math.ceil(i.meta.total/i.meta.size),1),i.meta.current>i.meta.pages&&(i.meta.current=i.meta.pages),i.paginateEvent=r.getTablePrefix(),i.pager=t(l.table).siblings(".kt-datatable__pager"),t(i.pager).hasClass("kt-datatable--paging-loaded")||(t(i.pager).remove(),0!==i.meta.pages&&(r.setDataSourceParam("page",{current:i.meta.current,pages:i.meta.pages,size:i.meta.size,total:i.meta.total}),i.callback=i.serverCallback,"function"==typeof n&&(i.callback=n),i.addPaginateEvent(),i.populate(),i.meta.current=Math.max(i.meta.current||1,i.meta.current),t(l).trigger(i.paginateEvent,i.meta),i.pagingBreakpoint.call(),t(window).resize(i.pagingBreakpoint)))},serverCallback:function(t,e){r.dataRender()},populate:function(){var e=r.getOption("layout.icons.pagination"),a=r.getOption("translate.toolbar.pagination.items.default");i.pager=t("<div/>").addClass("kt-datatable__pager kt-datatable--paging-loaded");var n=t("<ul/>").addClass("kt-datatable__pager-nav");i.pagerLayout.pagination=n,t("<li/>").append(t("<a/>").attr("title",a.first).addClass("kt-datatable__pager-link kt-datatable__pager-link--first").append(t("<i/>").addClass(e.first)).on("click",i.gotoMorePage).attr("data-page",1)).appendTo(n),t("<li/>").append(t("<a/>").attr("title",a.prev).addClass("kt-datatable__pager-link kt-datatable__pager-link--prev").append(t("<i/>").addClass(e.prev)).on("click",i.gotoMorePage)).appendTo(n),t("<li/>").append(t("<a/>").attr("title",a.more).addClass("kt-datatable__pager-link kt-datatable__pager-link--more-prev").html(t("<i/>").addClass(e.more)).on("click",i.gotoMorePage)).appendTo(n),t("<li/>").append(t("<input/>").attr("type","text").addClass("kt-pager-input form-control").attr("title",a.input).on("keyup",function(){t(this).attr("data-page",Math.abs(t(this).val()))}).on("keypress",function(t){13===t.which&&i.gotoMorePage(t)})).appendTo(n);var o=r.getOption("toolbar.items.pagination.pages.desktop.pagesNumber"),s=Math.ceil(i.meta.current/o)*o,d=s-o;s>i.meta.pages&&(s=i.meta.pages);for(var c=d;c<s;c++){var u=c+1;t("<li/>").append(t("<a/>").addClass("kt-datatable__pager-link kt-datatable__pager-link-number").text(u).attr("data-page",u).attr("title",u).on("click",i.gotoPage)).appendTo(n)}t("<li/>").append(t("<a/>").attr("title",a.more).addClass("kt-datatable__pager-link kt-datatable__pager-link--more-next").html(t("<i/>").addClass(e.more)).on("click",i.gotoMorePage)).appendTo(n),t("<li/>").append(t("<a/>").attr("title",a.next).addClass("kt-datatable__pager-link kt-datatable__pager-link--next").append(t("<i/>").addClass(e.next)).on("click",i.gotoMorePage)).appendTo(n),t("<li/>").append(t("<a/>").attr("title",a.last).addClass("kt-datatable__pager-link kt-datatable__pager-link--last").append(t("<i/>").addClass(e.last)).on("click",i.gotoMorePage).attr("data-page",i.meta.pages)).appendTo(n),r.getOption("toolbar.items.info")&&(i.pagerLayout.info=t("<div/>").addClass("kt-datatable__pager-info").append(t("<span/>").addClass("kt-datatable__pager-detail"))),t.each(r.getOption("toolbar.layout"),function(e,a){t(i.pagerLayout[a]).appendTo(i.pager)});var f=t("<select/>").addClass("selectpicker kt-datatable__pager-size").attr("title",r.getOption("translate.toolbar.pagination.items.default.select")).attr("data-width","60px").val(i.meta.size).on("change",i.updatePerpage).prependTo(i.pagerLayout.info),p=r.getOption("toolbar.items.pagination.pageSizeSelect");0===p.length&&(p=[10,15,20,30,50,100]),t.each(p,function(e,a){var n=a;-1===a&&(n=r.getOption("translate.toolbar.pagination.items.default.all")),t("<option/>").attr("value",a).html(n).appendTo(f)}),t(l).ready(function(){t(".selectpicker").selectpicker().on("hide.bs.select",function(){t(this).closest(".bootstrap-select").removeClass("dropup")}).siblings(".dropdown-toggle").attr("title",r.getOption("translate.toolbar.pagination.items.default.select"))}),i.paste()},paste:function(){t.each(t.unique(r.getOption("toolbar.placement")),function(e,a){"bottom"===a&&t(i.pager).clone(!0).insertAfter(l.table),"top"===a&&t(i.pager).clone(!0).addClass("kt-datatable__pager--top").insertBefore(l.table)})},gotoMorePage:function(e){if(e.preventDefault(),"disabled"===t(this).attr("disabled"))return!1;var a=t(this).attr("data-page");return void 0===a&&(a=t(e.target).attr("data-page")),i.openPage(parseInt(a)),!1},gotoPage:function(e){e.preventDefault(),t(this).hasClass("kt-datatable__pager-link--active")||i.openPage(parseInt(t(this).data("page")))},openPage:function(e){i.meta.current=parseInt(e),t(l).trigger(i.paginateEvent,i.meta),i.callback(i,i.meta),t(i.pager).trigger("kt-datatable--on-goto-page",i.meta)},updatePerpage:function(e){e.preventDefault(),i.pager=t(l.table).siblings(".kt-datatable__pager").removeClass("kt-datatable--paging-loaded"),e.originalEvent&&(i.meta.size=parseInt(t(this).val())),t(i.pager).find("select.kt-datatable__pager-size").val(i.meta.size).attr("data-selected",i.meta.size),r.setDataSourceParam("page",{current:i.meta.current,pages:i.meta.pages,size:i.meta.size,total:i.meta.total}),t(i.pager).trigger("kt-datatable--on-update-perpage",i.meta),t(l).trigger(i.paginateEvent,i.meta),i.callback(i,i.meta),i.updateInfo.call()},addPaginateEvent:function(e){t(l).off(i.paginateEvent).on(i.paginateEvent,function(e,a){r.spinnerCallback(!0),i.pager=t(l.table).siblings(".kt-datatable__pager");var n=t(i.pager).find(".kt-datatable__pager-nav");t(n).find(".kt-datatable__pager-link--active").removeClass("kt-datatable__pager-link--active"),t(n).find('.kt-datatable__pager-link-number[data-page="'+a.current+'"]').addClass("kt-datatable__pager-link--active"),t(n).find(".kt-datatable__pager-link--prev").attr("data-page",Math.max(a.current-1,1)),t(n).find(".kt-datatable__pager-link--next").attr("data-page",Math.min(a.current+1,a.pages)),t(i.pager).each(function(){t(this).find('.kt-pager-input[type="text"]').prop("value",a.current)}),t(i.pager).find(".kt-datatable__pager-nav").show(),a.pages<=1&&t(i.pager).find(".kt-datatable__pager-nav").hide(),r.setDataSourceParam("page",{current:i.meta.current,pages:i.meta.pages,size:i.meta.size,total:i.meta.total}),t(i.pager).find("select.kt-datatable__pager-size").val(a.size).attr("data-selected",a.size),t(l.table).find('.kt-checkbox > [type="checkbox"]').prop("checked",!1),t(l.table).find(".kt-datatable__row--active").removeClass("kt-datatable__row--active"),i.updateInfo.call(),i.pagingBreakpoint.call()})},updateInfo:function(){var e=Math.max(i.meta.size*(i.meta.current-1)+1,1),a=Math.min(e+i.meta.size-1,i.meta.total);t(i.pager).find(".kt-datatable__pager-info").find(".kt-datatable__pager-detail").html(r.dataPlaceholder(r.getOption("translate.toolbar.pagination.items.info"),{start:e,end:-1===i.meta.size?i.meta.total:a,pageSize:-1===i.meta.size||i.meta.size>=i.meta.total?i.meta.total:i.meta.size,total:i.meta.total}))},pagingBreakpoint:function(){var e=t(l.table).siblings(".kt-datatable__pager").find(".kt-datatable__pager-nav");if(0!==t(e).length){var n=r.getCurrentPage(),o=t(e).find(".kt-pager-input").closest("li");t(e).find("li").show(),t.each(r.getOption("toolbar.items.pagination.pages"),function(l,s){if(a.isInResponsiveRange(l)){switch(l){case"desktop":case"tablet":Math.ceil(n/s.pagesNumber),s.pagesNumber;t(o).hide(),i.meta=r.getDataSourceParam("page"),i.paginationUpdate();break;case"mobile":t(o).show(),t(e).find(".kt-datatable__pager-link--more-prev").closest("li").hide(),t(e).find(".kt-datatable__pager-link--more-next").closest("li").hide(),t(e).find(".kt-datatable__pager-link-number").closest("li").hide()}return!1}})}},paginationUpdate:function(){var e=t(l.table).siblings(".kt-datatable__pager").find(".kt-datatable__pager-nav"),a=t(e).find(".kt-datatable__pager-link--more-prev"),n=t(e).find(".kt-datatable__pager-link--more-next"),o=t(e).find(".kt-datatable__pager-link--first"),s=t(e).find(".kt-datatable__pager-link--prev"),d=t(e).find(".kt-datatable__pager-link--next"),c=t(e).find(".kt-datatable__pager-link--last"),u=t(e).find(".kt-datatable__pager-link-number"),f=Math.max(t(u).first().data("page")-1,1);t(a).each(function(e,a){t(a).attr("data-page",f)}),1===f?t(a).parent().hide():t(a).parent().show();var p=Math.min(t(u).last().data("page")+1,i.meta.pages);t(n).each(function(e,a){t(n).attr("data-page",p).show()}),p===i.meta.pages&&p===t(u).last().data("page")?t(n).parent().hide():t(n).parent().show(),1===i.meta.current?(t(o).attr("disabled",!0).addClass("kt-datatable__pager-link--disabled"),t(s).attr("disabled",!0).addClass("kt-datatable__pager-link--disabled")):(t(o).removeAttr("disabled").removeClass("kt-datatable__pager-link--disabled"),t(s).removeAttr("disabled").removeClass("kt-datatable__pager-link--disabled")),i.meta.current===i.meta.pages?(t(d).attr("disabled",!0).addClass("kt-datatable__pager-link--disabled"),t(c).attr("disabled",!0).addClass("kt-datatable__pager-link--disabled")):(t(d).removeAttr("disabled").removeClass("kt-datatable__pager-link--disabled"),t(c).removeAttr("disabled").removeClass("kt-datatable__pager-link--disabled"));var g=r.getOption("toolbar.items.pagination.navigation");g.first||t(o).remove(),g.prev||t(s).remove(),g.next||t(d).remove(),g.last||t(c).remove()}};return i.init(e),i},columnHide:function(){var e=a.getViewPort().width;t.each(o.columns,function(n,i){if(void 0!==i.responsive){var o=i.field,r=t.grep(t(l.table).find(".kt-datatable__cell"),function(e,a){return o===t(e).data("field")});a.getBreakpoint(i.responsive.hidden)>=e?t(r).hide():t(r).show(),a.getBreakpoint(i.responsive.visible)<=e?t(r).show():t(r).hide()}})},setupSubDatatable:function(){var e=r.getOption("detail.content");if("function"==typeof e&&!(t(l.table).find(".kt-datatable__subtable").length>0)){t(l.wrap).addClass("kt-datatable--subtable"),o.columns[0].subtable=!0;var a=function(a){a.preventDefault();var n=t(this).closest(".kt-datatable__row"),i=t(n).next(".kt-datatable__row-subtable");0===t(i).length&&(i=t("<tr/>").addClass("kt-datatable__row-subtable kt-datatable__row-loading").hide().append(t("<td/>").addClass("kt-datatable__subtable").attr("colspan",r.getTotalColumns())),t(n).after(i),t(n).hasClass("kt-datatable__row--even")&&t(i).addClass("kt-datatable__row-subtable--even")),t(i).toggle();var s=t(i).find(".kt-datatable__subtable"),d=t(this).closest("[data-field]:first-child").find(".kt-datatable__toggle-subtable").data("value"),c=t(this).find("i").removeAttr("class");t(n).hasClass("kt-datatable__row--subtable-expanded")?(t(c).addClass(r.getOption("layout.icons.rowDetail.collapse")),t(n).removeClass("kt-datatable__row--subtable-expanded"),t(l).trigger("kt-datatable--on-collapse-subtable",[n])):(t(c).addClass(r.getOption("layout.icons.rowDetail.expand")),t(n).addClass("kt-datatable__row--subtable-expanded"),t(l).trigger("kt-datatable--on-expand-subtable",[n])),0===t(s).find(".kt-datatable").length&&(t.map(l.dataSet,function(t,e){return d===t[o.columns[0].field]&&(a.data=t,!0)}),a.detailCell=s,a.parentRow=n,a.subTable=s,e(a),t(s).children(".kt-datatable").on("kt-datatable--on-init",function(e){t(i).removeClass("kt-datatable__row-loading")}),"local"===r.getOption("data.type")&&t(i).removeClass("kt-datatable__row-loading"))},n=o.columns;t(l.tableBody).find(".kt-datatable__row").each(function(e,i){t(i).find(".kt-datatable__cell").each(function(e,i){var o=t.grep(n,function(e,a){return t(i).data("field")===e.field})[0];if(void 0!==o){var l=t(i).text();if(void 0!==o.subtable&&o.subtable){if(t(i).find(".kt-datatable__toggle-subtable").length>0)return;t(i).html(t("<a/>").addClass("kt-datatable__toggle-subtable").attr("href","#").attr("data-value",l).attr("title",r.getOption("detail.title")).on("click",a).append(t("<i/>").css("width",t(i).data("width")).addClass(r.getOption("layout.icons.rowDetail.collapse"))))}}})})}},dataMapCallback:function(t){var e=t;return"function"==typeof r.getOption("data.source.read.map")?r.getOption("data.source.read.map")(t):(void 0!==t&&void 0!==t.data&&(e=t.data),e)},isSpinning:!1,spinnerCallback:function(t,e){void 0===e&&(e=l);var a=r.getOption("layout.spinner");void 0!==a&&a&&(t?r.isSpinning||(void 0!==a.message&&!0===a.message&&(a.message=r.getOption("translate.records.processing")),r.isSpinning=!0,void 0!==n&&n.block(e,a)):(r.isSpinning=!1,void 0!==n&&n.unblock(e)))},sortCallback:function(e,a,n){var i=n.type||"string",o=n.format||"",l=n.field;return t(e).sort(function(t,e){var n=t[l],r=e[l];switch(i){case"date":if("undefined"==typeof moment)throw new Error("Moment.js is required.");var s=moment(n,o).diff(moment(r,o));return"asc"===a?s>0?1:s<0?-1:0:s<0?1:s>0?-1:0;case"number":return isNaN(parseFloat(n))&&null!=n&&(n=Number(n.replace(/[^0-9\.-]+/g,""))),isNaN(parseFloat(r))&&null!=r&&(r=Number(r.replace(/[^0-9\.-]+/g,""))),n=parseFloat(n),r=parseFloat(r),"asc"===a?n>r?1:n<r?-1:0:n<r?1:n>r?-1:0;case"string":default:return"asc"===a?n>r?1:n<r?-1:0:n<r?1:n>r?-1:0}})},log:function(t,e){void 0===e&&(e=""),l.debug&&console.log(t,e)},autoHide:function(){var e=!1,a=t(l.table).find("[data-autohide-enabled]");a.length&&(e=!0,a.hide());var n=function(e){e.preventDefault();var a=t(this).closest(".kt-datatable__row"),n=t(a).next();if(t(n).hasClass("kt-datatable__row-detail"))t(this).find("i").removeClass(r.getOption("layout.icons.rowDetail.expand")).addClass(r.getOption("layout.icons.rowDetail.collapse")),t(n).remove();else{t(this).find("i").removeClass(r.getOption("layout.icons.rowDetail.collapse")).addClass(r.getOption("layout.icons.rowDetail.expand"));var i=t(a).find(".kt-datatable__cell:hidden").clone().show();n=t("<tr/>").addClass("kt-datatable__row-detail").insertAfter(a);var l=t("<td/>").addClass("kt-datatable__detail").attr("colspan",r.getTotalColumns()).appendTo(n),s=t("<table/>");t(i).each(function(){var e=t(this).data("field"),a=t.grep(o.columns,function(t,a){return e===t.field})[0];t(s).append(t('<tr class="kt-datatable__row"></tr>').append(t('<td class="kt-datatable__cell"></td>').append(t("<span/>").append(a.title))).append(this))}),t(l).append(s)}};setTimeout(function(){t(l.table).find(".kt-datatable__cell").show(),t(l.tableBody).each(function(){for(var a=0;t(this)[0].offsetWidth<t(this)[0].scrollWidth&&a<o.columns.length;)t(l.table).find(".kt-datatable__row").each(function(a){var n=t(this).find(".kt-datatable__cell:not(:hidden):not([data-autohide-disabled])").last();t(n).hide(),e=!0}),a++}),e&&t(l.tableBody).find(".kt-datatable__row").each(function(){0===t(this).find(".kt-datatable__toggle-detail").length&&t(this).prepend(t("<td/>").addClass("kt-datatable__cell kt-datatable__toggle-detail").append(t("<a/>").addClass("kt-datatable__toggle-detail").attr("href","").on("click",n).append('<i class="'+r.getOption("layout.icons.rowDetail.collapse")+'"></i>'))),0===t(l.tableHead).find(".kt-datatable__toggle-detail").length?(t(l.tableHead).find(".kt-datatable__row").first().prepend('<th class="kt-datatable__cell kt-datatable__toggle-detail"><span></span></th>'),t(l.tableFoot).find(".kt-datatable__row").first().prepend('<th class="kt-datatable__cell kt-datatable__toggle-detail"><span></span></th>')):t(l.tableHead).find(".kt-datatable__toggle-detail").find("span")})}),r.adjustCellsWidth.call()},setAutoColumns:function(){r.getOption("data.autoColumns")&&(t.each(l.dataSet[0],function(e,a){0===t.grep(o.columns,function(t,a){return e===t.field}).length&&o.columns.push({field:e,title:e})}),t(l.tableHead).find(".kt-datatable__row").remove(),r.setHeadTitle(),r.getOption("layout.footer")&&(t(l.tableFoot).find(".kt-datatable__row").remove(),r.setHeadTitle(l.tableFoot)))},isLocked:function(){var t=r.lockEnabledColumns();return t.left.length>0||t.right.length>0},isSubtable:function(){return a.hasClass(l.wrap[0],"kt-datatable--subtable")||!1},getExtraSpace:function(e){return parseInt(t(e).css("paddingRight"))+parseInt(t(e).css("paddingLeft"))+(parseInt(t(e).css("marginRight"))+parseInt(t(e).css("marginLeft")))+Math.ceil(t(e).css("border-right-width").replace("px",""))},dataPlaceholder:function(e,a){var n=e;return t.each(a,function(t,e){n=n.replace("{{"+t+"}}",e)}),n},getTableId:function(e){void 0===e&&(e="");var a=t(l).attr("id");return void 0===a&&(a=t(l).attr("class").split(" ")[0]),a+e},getTablePrefix:function(t){return void 0!==t&&(t="-"+t),r.getTableId()+"-"+r.getDepth()+t},getDepth:function(){var e=0,a=l.table;do{a=t(a).parents(".kt-datatable__table"),e++}while(t(a).length>0);return e},stateKeep:function(t,e){t=r.getTablePrefix(t),!1!==r.getOption("data.saveState")&&(r.getOption("data.saveState.webstorage")&&localStorage&&localStorage.setItem(t,JSON.stringify(e)),r.getOption("data.saveState.cookie")&&Cookies.set(t,JSON.stringify(e)))},stateGet:function(t,e){if(t=r.getTablePrefix(t),!1!==r.getOption("data.saveState")){var a=null;return null!=(a=r.getOption("data.saveState.webstorage")&&localStorage?localStorage.getItem(t):Cookies.get(t))?JSON.parse(a):void 0}},stateUpdate:function(e,a){var n=r.stateGet(e);null==n&&(n={}),r.stateKeep(e,t.extend({},n,a))},stateRemove:function(t){t=r.getTablePrefix(t),localStorage&&localStorage.removeItem(t),Cookies.remove(t)},getTotalColumns:function(e){return void 0===e&&(e=l.tableBody),t(e).find(".kt-datatable__row").first().find(".kt-datatable__cell").length},getOneRow:function(e,a,n){void 0===n&&(n=!0);var i=t(e).find(".kt-datatable__row:not(.kt-datatable__row-detail):nth-child("+a+")");return n&&(i=i.find(".kt-datatable__cell")),i},sortColumn:function(e,a,n){void 0===a&&(a="asc"),void 0===n&&(n=!1);var i=t(e).index(),o=t(l.tableBody).find(".kt-datatable__row"),r=t(e).closest(".kt-datatable__lock").index();-1!==r&&(o=t(l.tableBody).find(".kt-datatable__lock:nth-child("+(r+1)+")").find(".kt-datatable__row"));var s=t(o).parent();t(o).sort(function(e,o){var l=t(e).find("td:nth-child("+i+")").text(),r=t(o).find("td:nth-child("+i+")").text();return n&&(l=parseInt(l),r=parseInt(r)),"asc"===a?l>r?1:l<r?-1:0:l<r?1:l>r?-1:0}).appendTo(s)},sorting:function(){var e={init:function(){o.sortable&&(t(l.tableHead).find(".kt-datatable__cell:not(.kt-datatable__cell--check)").addClass("kt-datatable__cell--sort").off("click").on("click",e.sortClick),e.setIcon())},setIcon:function(){var e=r.getDataSourceParam("sort");if(!t.isEmptyObject(e)){var a=r.getColumnByField(e.field);if(void 0===a||void 0===a.sortable||!1!==a.sortable){var n=t(l.tableHead).find('.kt-datatable__cell[data-field="'+e.field+'"]').attr("data-sort",e.sort),i=t(n).find("span"),o=t(i).find("i"),s=r.getOption("layout.icons.sort");t(o).length>0?t(o).removeAttr("class").addClass(s[e.sort]):t(i).append(t("<i/>").addClass(s[e.sort])),t(n).addClass("kt-datatable__cell--sorted")}}},sortClick:function(n){var i=r.getDataSourceParam("sort"),s=t(this).data("field"),d=r.getColumnByField(s);if((void 0===d.sortable||!1!==d.sortable)&&(t(l.tableHead).find("th").removeClass("kt-datatable__cell--sorted"),a.addClass(this,"kt-datatable__cell--sorted"),t(l.tableHead).find(".kt-datatable__cell > span > i").remove(),o.sortable)){r.spinnerCallback(!0);var c="desc";r.getObject("field",i)===s&&(c=r.getObject("sort",i)),i={field:s,sort:c=void 0===c||"desc"===c?"asc":"desc"},r.setDataSourceParam("sort",i),e.setIcon(),setTimeout(function(){r.dataRender("sort"),t(l).trigger("kt-datatable--on-sort",i)},300)}}};e.init()},localDataUpdate:function(){var e=r.getDataSourceParam();void 0===l.originalDataSet&&(l.originalDataSet=l.dataSet);var n=r.getObject("sort.field",e),i=r.getObject("sort.sort",e),o=r.getColumnByField(n);if(void 0!==o&&!0!==r.getOption("data.serverSorting")?"function"==typeof o.sortCallback?l.dataSet=o.sortCallback(l.originalDataSet,i,o):l.dataSet=r.sortCallback(l.originalDataSet,i,o):l.dataSet=l.originalDataSet,"object"==typeof e.query&&!r.getOption("data.serverFiltering")){e.query=e.query||{};t(r.getOption("search.input")).each(function(n,i){var o=t(i).val(),l=r.getGeneralSearchKey(i);a.isNotBlank(l)&&(a.isNotBlank(o)?e.query[l]=o:delete e.query[l])}),t.each(e.query,function(t,a){""===a&&delete e.query[t]}),l.dataSet=r.filterArray(l.dataSet,e.query),l.dataSet=l.dataSet.filter(function(){return!0})}return l.dataSet},filterArray:function(e,a,n){if("object"!=typeof e)return[];if(void 0===n&&(n="AND"),"object"!=typeof a)return e;if(n=n.toUpperCase(),-1===t.inArray(n,["AND","OR","NOT"]))return[];var i=Object.keys(a).length,o=[];return t.each(e,function(e,l){var s=l,d=0;t.each(a,function(t,e){e=e instanceof Array?e:[e];var a=r.getObject(t,s);if(void 0!==a&&a){var n=a.toString().toLowerCase();e.forEach(function(t,e){t.toString().toLowerCase()!=n&&-1===n.indexOf(t.toString().toLowerCase())||d++})}}),("AND"===n&&d==i||"OR"===n&&d>0||"NOT"===n&&0==d)&&(o[e]=l)}),e=o},resetScroll:function(){void 0===o.detail&&1===r.getDepth()&&(t(l.table).find(".kt-datatable__row").css("left",0),t(l.table).find(".kt-datatable__lock").css("top",0),t(l.tableBody).scrollTop(0))},getColumnByField:function(e){var a;if(void 0!==e)return t.each(o.columns,function(t,n){if(e===n.field)return a=n,!1}),a},getDefaultSortColumn:function(){var e;return t.each(o.columns,function(a,n){if(void 0!==n.sortable&&-1!==t.inArray(n.sortable,["asc","desc"]))return e={sort:n.sortable,field:n.field},!1}),e},getHiddenDimensions:function(e,a){var n={position:"absolute",visibility:"hidden",display:"block"},i={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},o=t(e).parents().addBack().not(":visible");a="boolean"==typeof a&&a;var l=[];return o.each(function(){var t={};for(var e in n)t[e]=this.style[e],this.style[e]=n[e];l.push(t)}),i.width=t(e).width(),i.outerWidth=t(e).outerWidth(a),i.innerWidth=t(e).innerWidth(),i.height=t(e).height(),i.innerHeight=t(e).innerHeight(),i.outerHeight=t(e).outerHeight(a),o.each(function(t){var e=l[t];for(var a in n)this.style[a]=e[a]}),i},getGeneralSearchKey:function(){var e=t(r.getOption("search.input"));return t(e).prop("name")||t(e).prop("id")},getObject:function(t,e){return t.split(".").reduce(function(t,e){return null!==t&&void 0!==t[e]?t[e]:null},e)},extendObj:function(t,e,a){var n=e.split("."),i=0;return function t(e){var o=n[i++];void 0!==e[o]&&null!==e[o]?"object"!=typeof e[o]&&"function"!=typeof e[o]&&(e[o]={}):e[o]={},i===n.length?e[o]=a:t(e[o])}(t),t},rowEvenOdd:function(){t(l.tableBody).find(".kt-datatable__row").removeClass("kt-datatable__row--even"),t(l.wrap).hasClass("kt-datatable--subtable")?t(l.tableBody).find(".kt-datatable__row:not(.kt-datatable__row-detail):even").addClass("kt-datatable__row--even"):t(l.tableBody).find(".kt-datatable__row:nth-child(even)").addClass("kt-datatable__row--even")},timer:0,redraw:function(){return r.adjustCellsWidth.call(),r.isLocked()&&(r.scrollbar(),r.resetScroll(),r.adjustCellsHeight.call()),r.adjustLockContainer.call(),r.initHeight.call(),l},load:function(){return r.reload(),l},reload:function(){return function(t,e){clearTimeout(r.timer),r.timer=setTimeout(t,e)}(function(){o.data.serverFiltering||r.localDataUpdate(),r.dataRender(),t(l).trigger("kt-datatable--on-reloaded")},r.getOption("search.delay")),l},getRecord:function(e){return void 0===l.tableBody&&(l.tableBody=t(l.table).children("tbody")),t(l.tableBody).find(".kt-datatable__cell:first-child").each(function(a,n){if(e==t(n).text()){var i=t(n).closest(".kt-datatable__row").index()+1;return l.API.record=l.API.value=r.getOneRow(l.tableBody,i),l}}),l},getColumn:function(e){return r.setSelectedRecords(),l.API.value=t(l.API.record).find('[data-field="'+e+'"]'),l},destroy:function(){t(l).parent().find(".kt-datatable__pager").remove();var e=t(l.initialDatatable).addClass("kt-datatable--destroyed").show();return t(l).replaceWith(e),t(l=e).trigger("kt-datatable--on-destroy"),r.isInit=!1,e=null},sort:function(e,a){a=void 0===a?"asc":a,r.spinnerCallback(!0);var n={field:e,sort:a};return r.setDataSourceParam("sort",n),setTimeout(function(){r.dataRender("sort"),t(l).trigger("kt-datatable--on-sort",n),t(l.tableHead).find(".kt-datatable__cell > span > i").remove()},300),l},getValue:function(){var e=[],a=l.getSelectedRecords();if(null!=a&&a.length>0)for(var n=0;n<a.length;n++){var i=t(a[n]).data("id");void 0!==i&&e.push(i)}return e},setActive:function(e){"string"!=typeof e&&"number"!=typeof e||(e=t(l.tableBody).find('.kt-checkbox--single > [type="checkbox"][value="'+e+'"]')),t(e).prop("checked",!0);var a=[];t(e).each(function(e,n){var i=t(n).closest("tr").addClass("kt-datatable__row--active"),o=t(i).index()+1;t(i).closest("tbody").find("tr:nth-child("+o+")").not(".kt-datatable__row-subtable").addClass("kt-datatable__row--active");var l=t(n).attr("value");void 0!==l&&a.push(l)}),t(l).trigger("kt-datatable--on-check",[a])},setInactive:function(e){"string"!=typeof e&&"number"!=typeof e||(e=t(l.tableBody).find('.kt-checkbox--single > [type="checkbox"][value="'+e+'"]')),t(e).prop("checked",!1);var a=[];t(e).each(function(e,n){var i=t(n).closest("tr").removeClass("kt-datatable__row--active"),o=t(i).index()+1;t(i).closest("tbody").find("tr:nth-child("+o+")").not(".kt-datatable__row-subtable").removeClass("kt-datatable__row--active");var l=t(n).attr("value");void 0!==l&&a.push(l)}),t(l).trigger("kt-datatable--on-uncheck",[a])},setActiveAll:function(e){var a=t(l.table).find("> tbody, > thead").find("tr").not(".kt-datatable__row-subtable").find('.kt-datatable__cell--check [type="checkbox"]');e?r.setActive(a):r.setInactive(a)},setSelectedRecords:function(){return l.API.record=t(l.tableBody).find(".kt-datatable__row--active"),l},getSelectedRecords:function(){return r.setSelectedRecords(),l.API.record=l.rows(".kt-datatable__row--active").nodes(),l.API.record},getOption:function(t){return r.getObject(t,o)},setOption:function(t,e){o=r.extendObj(o,t,e)},search:function(e,a){void 0!==a&&(a=t.makeArray(a)),n=function(){var n=r.getDataSourceQuery();if(void 0===a&&void 0!==e){var i=r.getGeneralSearchKey();n[i]=e}"object"==typeof a&&(t.each(a,function(t,a){n[a]=e}),t.each(n,function(e,a){(""===a||t.isEmptyObject(a))&&delete n[e]})),r.setDataSourceQuery(n),o.data.serverFiltering||r.localDataUpdate(),r.dataRender("search")},i=r.getOption("search.delay"),clearTimeout(r.timer),r.timer=setTimeout(n,i);var n,i},setDataSourceParam:function(e,a){l.API.params=t.extend({},{pagination:{current:1,size:r.getOption("data.pageSize")},sort:r.getDefaultSortColumn(),query:{}},l.API.params,r.stateGet(r.stateId)),l.API.params=r.extendObj(l.API.params,e,a),r.stateKeep(r.stateId,l.API.params)},getDataSourceParam:function(e){return l.API.params=t.extend({},{page:{current:1,size:r.getOption("data.pageSize")},sort:r.getDefaultSortColumn(),query:{}},l.API.params,r.stateGet(r.stateId)),"string"==typeof e?r.getObject(e,l.API.params):l.API.params},getDataSourceQuery:function(){return r.getDataSourceParam("query")||{}},setDataSourceQuery:function(t){r.setDataSourceParam("query",t)},getCurrentPage:function(){return t(l.table).siblings(".kt-datatable__pager").last().find(".kt-datatable__pager-nav").find(".kt-datatable__pager-link.kt-datatable__pager-link--active").data("page")||1},getPageSize:function(){return t(l.table).siblings(".kt-datatable__pager").last().find("select.kt-datatable__pager-size").val()||10},getTotalRows:function(){return l.API.params.pagination.total},getDataSet:function(){return l.originalDataSet},hideColumn:function(e){t.map(o.columns,function(t){return e===t.field&&(t.responsive={hidden:"xl"}),t});var a=t.grep(t(l.table).find(".kt-datatable__cell"),function(a,n){return e===t(a).data("field")});t(a).hide()},showColumn:function(e){t.map(o.columns,function(t){return e===t.field&&delete t.responsive,t});var a=t.grep(t(l.table).find(".kt-datatable__cell"),function(a,n){return e===t(a).data("field")});t(a).show()},nodeTr:[],nodeTd:[],nodeCols:[],recentNode:[],table:function(){if(void 0!==l.table)return l.table},row:function(e){return r.rows(e),r.nodeTr=r.recentNode=t(r.nodeTr).first(),l},rows:function(e){return r.isLocked()?r.nodeTr=r.recentNode=t(l.tableBody).find(e).filter(".kt-datatable__lock--scroll > .kt-datatable__row"):r.nodeTr=r.recentNode=t(l.tableBody).find(e).filter(".kt-datatable__row"),l},column:function(e){return r.nodeCols=r.recentNode=t(l.tableBody).find(".kt-datatable__cell:nth-child("+(e+1)+")"),l},columns:function(e){var a=l.table;r.nodeTr===r.recentNode&&(a=r.nodeTr);var n=t(a).find('.kt-datatable__cell[data-field="'+e+'"]');return n.length>0?r.nodeCols=r.recentNode=n:r.nodeCols=r.recentNode=t(a).find(e).filter(".kt-datatable__cell"),l},cell:function(e){return r.cells(e),r.nodeTd=r.recentNode=t(r.nodeTd).first(),l},cells:function(e){var a=t(l.tableBody).find(".kt-datatable__cell");return void 0!==e&&(a=t(a).filter(e)),r.nodeTd=r.recentNode=a,l},remove:function(){return t(r.nodeTr.length)&&r.nodeTr===r.recentNode&&t(r.nodeTr).remove(),r.layoutUpdate(),l},removeRows:function(t){return void 0!==t&&t.length>0&&t.remove(),r.layoutUpdate(),l},visible:function(e){if(t(r.recentNode.length)){var a=r.lockEnabledColumns();if(r.recentNode===r.nodeCols){var n=r.recentNode.index();if(r.isLocked()){var i=t(r.recentNode).closest(".kt-datatable__lock--scroll").length;i?n+=a.left.length+1:t(r.recentNode).closest(".kt-datatable__lock--right").length&&(n+=a.left.length+i+1)}}e?(r.recentNode===r.nodeCols&&delete o.columns[n].responsive,t(r.recentNode).show()):(r.recentNode===r.nodeCols&&r.setOption("columns."+n+".responsive",{hidden:"xl"}),t(r.recentNode).hide()),r.redraw()}},nodes:function(){return r.recentNode},dataset:function(){return l},gotoPage:function(t){r.pagingObject.openPage(t)},addRow:function(){var e=o.columns.length,i=document.createElement("tr");a.addClass(i,"kt-datatable__row");for(var s=0;s<e;s++){var d=o.columns[s],c=r.getColumnElement(d),u=document.createElement("td");u.setAttribute("data-field",d.field),a.addClass(u,"kt-datatable__cell "+(void 0!==d.class?d.class:"")),u.appendChild(c),i.appendChild(u)}l.tableBody.append(i),r.setupDOM(l.table),r.setupCellField([l.tableBody]),r.layoutUpdate(),l.hasClass("m-datatable--error")&&(l.removeClass("m-datatable--error"),l.find("span.m-datatable--error").remove()),t(i).find(".table-actions").each(function(){n.initTooltip(t(this))})},getColumnElement:function(e,n){var o;if(void 0!==e.edit){switch(e.edit.tag){case"input":(o=document.createElement("input")).setAttribute("type",e.edit.type),a.addClass(o,"form-control form-control-sm "+e.edit.class),void 0!==n&&(o.value=n);break;case"select":if(o=document.createElement("select"),a.addClass(o,"form-control form-control-sm "+e.edit.class),void 0!==e.edit.option)for(var l in void 0===n&&(n=e.edit.default),e.edit.option){var r=document.createElement("option");r.setAttribute("value",l),l===n&&r.setAttribute("selected","true"),r.innerText=e.edit.option[l].name,o.appendChild(r)}break;case"button":(o=document.createElement("button")).setAttribute("type","button"),o.setAttribute("title",e.edit.title),o.innerHTML=e.edit.text,a.addClass(o,i.ACTIONS_SUCCESS),"function"==typeof e.edit.click&&(o.onclick=function(){e.edit.click(t(this).parents(".kt-datatable__row"),t(this).parents(".kt-datatable__row").find("input, select").serializeArray())});break;default:(o=document.createElement("input")).setAttribute("type","text"),a.addClass(o,"form-control form-control-sm "+e.edit.class),void 0!==n&&(o.value=n)}o.setAttribute("name",e.field),a.addClass(o,e.edit.classes)}else(o=document.createElement("span")).innerText="#";return o},editRow:function(e){for(var a=o.columns.length,i=t(e).parents(".kt-datatable__row"),s=l.dataSet[Number(i.data("row"))],d=0;d<a;d++){var c=o.columns[d];e=r.getColumnElement(c,s[c.field]);var u=i.find("td:eq("+d+")");u.hasClass("m-datatable__cell--check")?u.find("span").append(e):u.find("span").html(e)}i.find(".table-actions").each(function(){n.initTooltip(t(this))})}};if(t.each(r,function(t,e){l[t]=e}),void 0!==o)if("string"==typeof o){var s=o;void 0!==(l=t(this).data(e))&&(o=l.options,r[s].apply(this,Array.prototype.slice.call(arguments,1)))}else l.data(e)||t(this).hasClass("kt-datatable--loaded")||(l.dataSet=null,l.textAlign={left:"kt-datatable__cell--left",center:"kt-datatable__cell--center",right:"kt-datatable__cell--right"},o=t.extend(!0,{},t.fn.KTDatatable.defaults,o),l.options=o,r.init.apply(this,[o]),t(l.wrap).data(e,l));else void 0===(l=t(this).data(e))&&t.error("KTDatatable not initialized"),o=l.options;return l}console.log("No KTDatatable element exist.")},t.fn.KTDatatable.defaults={data:{type:"local",source:null,pageSize:10,saveState:{cookie:!1,webstorage:!0},serverPaging:!1,serverFiltering:!1,serverSorting:!1,autoColumns:!1,attr:{rowProps:[]}},layout:{theme:"default",class:"kt-datatable--brand",scroll:!1,height:null,minHeight:300,footer:!1,header:!0,customScrollbar:!0,spinner:{overlayColor:"#000",opacity:0,type:"loader",state:"brand",message:!0},icons:{sort:{asc:"flaticon2-arrow-up",desc:"flaticon2-arrow-down"},pagination:{next:"flaticon2-next",prev:"flaticon2-back",first:"flaticon2-fast-back",last:"flaticon2-fast-next",more:"flaticon-more-1"},rowDetail:{expand:"fa fa-caret-down",collapse:"fa fa-caret-right"}}},sortable:!0,pagination:!0,columns:[],search:{onEnter:!1,input:null,delay:400},rows:{callback:function(){},beforeTemplate:function(){},afterTemplate:function(){},autoHide:!0},toolbar:{layout:["pagination","info"],placement:["bottom"],items:{pagination:{type:"default",pages:{desktop:{layout:"default",pagesNumber:5},tablet:{layout:"default",pagesNumber:3},mobile:{layout:"compact"}},navigation:{prev:!0,next:!0,first:!0,last:!0},pageSizeSelect:[]},info:!0}},translate:{records:{processing:"请稍候...",noRecords:"未查找到数据"},toolbar:{pagination:{items:{default:{first:"第一页",prev:"上一页",next:"下一页",last:"最后一页",more:"更多页码",input:"请输入页码",select:"每页显示",all:"全部"},info:"当前显示 {{start}} - {{end}} 共 {{total}} 条数据"}}}},extensions:{}}}(jQuery),function(t){t.fn.KTDatatable=t.fn.KTDatatable||{},t.fn.KTDatatable.checkbox=function(e,a){var n={selectedAllRows:!1,selectedRows:[],unselectedRows:[],init:function(){n.selectorEnabled()&&(e.setDataSourceParam(a.vars.selectedAllRows,!1),e.stateRemove("checkbox"),a.vars.requestIds&&e.setDataSourceParam(a.vars.requestIds,!0),t(e).on("kt-datatable--on-reloaded",function(){e.stateRemove("checkbox"),e.setDataSourceParam(a.vars.selectedAllRows,!1),n.selectedAllRows=!1,n.selectedRows=[],n.unselectedRows=[]}),n.selectedAllRows=e.getDataSourceParam(a.vars.selectedAllRows),t(e).on("kt-datatable--on-layout-updated",function(a,i){i.table==t(e.wrap).attr("id")&&e.ready(function(){n.initVars(),n.initEvent(),n.initSelect()})}),t(e).on("kt-datatable--on-check",function(a,i){i.forEach(function(t){n.selectedRows.push(t),n.unselectedRows=n.remove(n.unselectedRows,t)});var o={};o.selectedRows=t.unique(n.selectedRows),o.unselectedRows=t.unique(n.unselectedRows),e.stateKeep("checkbox",o)}),t(e).on("kt-datatable--on-uncheck",function(a,i){i.forEach(function(t){n.unselectedRows.push(t),n.selectedRows=n.remove(n.selectedRows,t)});var o={};o.selectedRows=t.unique(n.selectedRows),o.unselectedRows=t.unique(n.unselectedRows),e.stateKeep("checkbox",o)}))},initEvent:function(){t(e.tableHead).find('.kt-checkbox--all > [type="checkbox"]').click(function(i){if(n.selectedRows=n.unselectedRows=[],e.stateRemove("checkbox"),t(this).is(":checked")?n.selectedAllRows=!0:n.selectedAllRows=!1,!a.vars.requestIds){t(this).is(":checked")&&(n.selectedRows=t.makeArray(t(e.tableBody).find('.kt-checkbox--single > [type="checkbox"]').map(function(e,a){return t(a).val()})));var o={};o.selectedRows=t.unique(n.selectedRows),e.stateKeep("checkbox",o)}e.setDataSourceParam(a.vars.selectedAllRows,n.selectedAllRows),t(e).trigger("kt-datatable--on-click-checkbox",[t(this)])}),t(e.tableBody).find('.kt-checkbox--single > [type="checkbox"]').click(function(i){var o=t(this).val();t(this).is(":checked")?(n.selectedRows.push(o),n.unselectedRows=n.remove(n.unselectedRows,o)):(n.unselectedRows.push(o),n.selectedRows=n.remove(n.selectedRows,o)),!a.vars.requestIds&&n.selectedRows.length<1&&t(e.tableHead).find('.kt-checkbox--all > [type="checkbox"]').prop("checked",!1);var l={};l.selectedRows=t.unique(n.selectedRows),l.unselectedRows=t.unique(n.unselectedRows),e.stateKeep("checkbox",l),t(e).trigger("kt-datatable--on-click-checkbox",[t(this)])})},initSelect:function(){n.selectedAllRows&&a.vars.requestIds?(e.hasClass("kt-datatable--error")||t(e.tableHead).find('.kt-checkbox--all > [type="checkbox"]').prop("checked",!0),e.setActiveAll(!0),n.unselectedRows.forEach(function(t){e.setInactive(t)})):(n.selectedRows.forEach(function(t){e.setActive(t)}),!e.hasClass("kt-datatable--error")&&t(e.tableBody).find('.kt-checkbox--single > [type="checkbox"]').not(":checked").length<1&&t(e.tableHead).find('.kt-checkbox--all > [type="checkbox"]').prop("checked",!0))},selectorEnabled:function(){return t.grep(e.options.columns,function(t,e){return t.selector||!1})[0]},initVars:function(){var t=e.stateGet("checkbox");void 0!==t&&(n.selectedRows=t.selectedRows||[],n.unselectedRows=t.unselectedRows||[])},getSelectedId:function(t){if(n.initVars(),n.selectedAllRows&&a.vars.requestIds){void 0===t&&(t=a.vars.rowIds);var i=e.getObject(t,e.lastResponse)||[];return i.length>0&&n.unselectedRows.forEach(function(t){i=n.remove(i,parseInt(t))}),i}return n.selectedRows},remove:function(t,e){return t.filter(function(t){return t!==e})}};return e.checkbox=function(){return n},"object"==typeof a&&(a=t.extend(!0,{},t.fn.KTDatatable.checkbox.default,a),n.init.apply(this,[a])),e},t.fn.KTDatatable.checkbox.default={vars:{selectedAllRows:"selectedAllRows",requestIds:"requestIds",rowIds:"meta.rowIds"}}}(jQuery);var defaults={layout:{icons:{pagination:{next:"flaticon2-next",prev:"flaticon2-back",first:"flaticon2-fast-back",last:"flaticon2-fast-next",more:"flaticon-more-1"},rowDetail:{expand:"fa fa-caret-down",collapse:"fa fa-caret-right"}}}};$.extend(!0,$.fn.KTDatatable.defaults,defaults);var KTChat=function(){var t=function(t){var e=KTUtil.find(t,".kt-scroll");if(e){KTUtil.scrollInit(e,{windowScroll:!1,mobileNativeScroll:!0,desktopNativeScroll:!1,resetHeightOnDestroy:!0,handleWindowResize:!0,rememberPosition:!0,height:function(){var a;if(KTUtil.isInResponsiveRange("tablet-and-mobile"))return KTUtil.hasAttr(e,"data-mobile-height")?parseInt(KTUtil.attr(e,"data-mobile-height")):300;if(KTUtil.isInResponsiveRange("desktop")&&KTUtil.hasAttr(e,"data-height"))return parseInt(KTUtil.attr(e,"data-height"));var n=KTUtil.find(t,".kt-chat"),i=KTUtil.find(t,".kt-portlet > .kt-portlet__head"),o=KTUtil.find(t,".kt-portlet > .kt-portlet__body"),l=KTUtil.find(t,".kt-portlet > .kt-portlet__foot");return a=KTUtil.isInResponsiveRange("desktop")?KTLayout.getContentHeight():KTUtil.getViewPort().height,n&&(a=(a=a-parseInt(KTUtil.css(n,"margin-top"))-parseInt(KTUtil.css(n,"margin-bottom")))-parseInt(KTUtil.css(n,"padding-top"))-parseInt(KTUtil.css(n,"padding-bottom"))),i&&(a=(a-=parseInt(KTUtil.css(i,"height")))-parseInt(KTUtil.css(i,"margin-top"))-parseInt(KTUtil.css(i,"margin-bottom"))),o&&(a=(a=a-parseInt(KTUtil.css(o,"margin-top"))-parseInt(KTUtil.css(o,"margin-bottom")))-parseInt(KTUtil.css(o,"padding-top"))-parseInt(KTUtil.css(o,"padding-bottom"))),l&&(a=(a-=parseInt(KTUtil.css(l,"height")))-parseInt(KTUtil.css(l,"margin-top"))-parseInt(KTUtil.css(l,"margin-bottom"))),a-=5}});var a=function(){var e=KTUtil.find(t,".kt-scroll"),a=KTUtil.find(t,".kt-chat__messages"),n=KTUtil.find(t,".kt-chat__input textarea");if(0!==n.value.length){var i=document.createElement("DIV");KTUtil.addClass(i,"kt-chat__message kt-chat__message--right");var o,l='<div class="kt-chat__user"><span class="kt-chat__datetime">Just now</span><a href="#" class="kt-chat__username">Jason Muller</span></a><span class="kt-userpic kt-userpic--circle kt-userpic--sm"><img src="./assets/media/users/100_12.jpg" alt="image"></span></div><div class="kt-chat__text kt-bg-light-brand">'+n.value;KTUtil.setHTML(i,l),a.appendChild(i),n.value="",e.scrollTop=parseInt(KTUtil.css(a,"height")),(o=KTUtil.data(e).get("ps"))&&o.update(),setTimeout(function(){var t=document.createElement("DIV");KTUtil.addClass(t,"kt-chat__message");var i;KTUtil.setHTML(t,'<div class="kt-chat__user"><span class="kt-userpic kt-userpic--circle kt-userpic--sm"><img src="./assets/media/users/100_13.jpg" alt="image"></span><a href="#" class="kt-chat__username">Max Born</span></a><span class="kt-chat__datetime">Just now</span></div><div class="kt-chat__text kt-bg-light-success">Right before vacation season we have the next Big Deal for you. <br>Book the car of your dreams and save up to <b>25%*</b> worldwide.'),a.appendChild(t),n.value="",e.scrollTop=parseInt(KTUtil.css(a,"height")),(i=KTUtil.data(e).get("ps"))&&i.update()},2e3)}};KTUtil.on(t,".kt-chat__input textarea","keydown",function(t){if(13==t.keyCode)return a(),t.preventDefault(),!1}),KTUtil.on(t,".kt-chat__input .kt-chat__reply","click",function(t){a()})}};return{init:function(){t(KTUtil.getByID("kt_chat_modal")),setTimeout(function(){},1e3)},setup:function(e){t(e)}}}();KTUtil.ready(function(){KTChat.init()});var KTDemoPanel=function(){var t,e=KTUtil.getByID("kt_demo_panel");return{init:function(){!function(){t=new KTOffcanvas(e,{overlay:!0,baseClass:"kt-demo-panel",closeBy:"kt_demo_panel_close",toggleBy:"kt_demo_panel_toggle"});var a=KTUtil.find(e,".kt-demo-panel__head"),n=KTUtil.find(e,".kt-demo-panel__body");KTUtil.scrollInit(n,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var t=parseInt(KTUtil.getViewPort().height);return a&&(t-=parseInt(KTUtil.actualHeight(a)),t-=parseInt(KTUtil.css(a,"marginBottom"))),t-=parseInt(KTUtil.css(e,"paddingTop")),t-=parseInt(KTUtil.css(e,"paddingBottom"))}}),void 0!==t&&0===t.length&&t.on("hide",function(){var t=new Date((new Date).getTime()+36e5);Cookies.set("kt_demo_panel_shown",1,{expires:t})})}(),"keenthemes.com"!=encodeURI(window.location.hostname)&&"www.keenthemes.com"!=encodeURI(window.location.hostname)||setTimeout(function(){if(!Cookies.get("kt_demo_panel_shown")){var e=new Date((new Date).getTime()+9e5);Cookies.set("kt_demo_panel_shown",1,{expires:e}),t.show()}},4e3)}}}();$(document).ready(function(){KTDemoPanel.init()});var KTOffcanvasPanel=function(){var t=KTUtil.get("kt_offcanvas_toolbar_notifications"),e=KTUtil.get("kt_offcanvas_toolbar_quick_actions"),a=KTUtil.get("kt_offcanvas_toolbar_profile"),n=KTUtil.get("kt_offcanvas_toolbar_search");return{init:function(){!function(){var e=KTUtil.find(t,".kt-offcanvas-panel__head"),a=KTUtil.find(t,".kt-offcanvas-panel__body");new KTOffcanvas(t,{overlay:!0,baseClass:"kt-offcanvas-panel",closeBy:"kt_offcanvas_toolbar_notifications_close",toggleBy:"kt_offcanvas_toolbar_notifications_toggler_btn"});KTUtil.scrollInit(a,{mobileNativeScroll:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var a=parseInt(KTUtil.getViewPort().height);return e&&(a-=parseInt(KTUtil.actualHeight(e)),a-=parseInt(KTUtil.css(e,"marginBottom"))),a-=parseInt(KTUtil.css(t,"paddingTop")),a-=parseInt(KTUtil.css(t,"paddingBottom"))}})}(),function(){var t=KTUtil.find(e,".kt-offcanvas-panel__head"),a=KTUtil.find(e,".kt-offcanvas-panel__body");new KTOffcanvas(e,{overlay:!0,baseClass:"kt-offcanvas-panel",closeBy:"kt_offcanvas_toolbar_quick_actions_close",toggleBy:"kt_offcanvas_toolbar_quick_actions_toggler_btn"});KTUtil.scrollInit(a,{mobileNativeScroll:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var a=parseInt(KTUtil.getViewPort().height);return t&&(a-=parseInt(KTUtil.actualHeight(t)),a-=parseInt(KTUtil.css(t,"marginBottom"))),a-=parseInt(KTUtil.css(e,"paddingTop")),a-=parseInt(KTUtil.css(e,"paddingBottom"))}})}(),function(){var t=KTUtil.find(a,".kt-offcanvas-panel__head"),e=KTUtil.find(a,".kt-offcanvas-panel__body");new KTOffcanvas(a,{overlay:!0,baseClass:"kt-offcanvas-panel",closeBy:"kt_offcanvas_toolbar_profile_close",toggleBy:"kt_offcanvas_toolbar_profile_toggler_btn"});KTUtil.scrollInit(e,{mobileNativeScroll:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var e=parseInt(KTUtil.getViewPort().height);return t&&(e-=parseInt(KTUtil.actualHeight(t)),e-=parseInt(KTUtil.css(t,"marginBottom"))),e-=parseInt(KTUtil.css(a,"paddingTop")),e-=parseInt(KTUtil.css(a,"paddingBottom"))}})}(),function(){var t=KTUtil.find(n,".kt-offcanvas-panel__head"),e=KTUtil.find(n,".kt-offcanvas-panel__body");new KTOffcanvas(n,{overlay:!0,baseClass:"kt-offcanvas-panel",closeBy:"kt_offcanvas_toolbar_search_close",toggleBy:"kt_offcanvas_toolbar_search_toggler_btn"});KTUtil.scrollInit(e,{mobileNativeScroll:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var e=parseInt(KTUtil.getViewPort().height);return t&&(e-=parseInt(KTUtil.actualHeight(t)),e-=parseInt(KTUtil.css(t,"marginBottom"))),e-=parseInt(KTUtil.css(n,"paddingTop")),e-=parseInt(KTUtil.css(n,"paddingBottom"))}})}()}}}();$(document).ready(function(){KTOffcanvasPanel.init()});var KTQuickPanel=function(){var t=KTUtil.get("kt_quick_panel"),e=KTUtil.get("kt_quick_panel_tab_notifications"),a=KTUtil.get("kt_quick_panel_tab_logs"),n=KTUtil.get("kt_quick_panel_tab_settings"),i=function(){var e=KTUtil.find(t,".kt-quick-panel__nav");KTUtil.find(t,".kt-quick-panel__content");return parseInt(KTUtil.getViewPort().height)-parseInt(KTUtil.actualHeight(e))-2*parseInt(KTUtil.css(e,"padding-top"))-10};return{init:function(){new KTOffcanvas(t,{overlay:!0,baseClass:"kt-quick-panel",closeBy:"kt_quick_panel_close_btn",toggleBy:"kt_quick_panel_toggler_btn"}),KTUtil.scrollInit(e,{mobileNativeScroll:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){return i()}}),KTUtil.scrollInit(a,{mobileNativeScroll:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){return i()}}),KTUtil.scrollInit(n,{mobileNativeScroll:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){return i()}}),$(t).find('a[data-toggle="tab"]').on("shown.bs.tab",function(t){KTUtil.scrollUpdate(e),KTUtil.scrollUpdate(a),KTUtil.scrollUpdate(n)})}}}();$(document).ready(function(){KTQuickPanel.init()});var KTQuickSearch=function(){var t,e,a,n,i,o,l,r,s="",d=!1,c=!1,u=!1,f="kt-spinner kt-spinner--input kt-spinner--sm kt-spinner--brand kt-spinner--right",p="kt-quick-search--has-result",g=function(){u=!1,KTUtil.removeClass(r,f),n&&(a.value.length<2?KTUtil.hide(n):KTUtil.show(n,"flex"))},m=function(){l&&!KTUtil.hasClass(o,"show")&&($(l).dropdown("toggle"),$(l).dropdown("update"))},h=function(){l&&KTUtil.hasClass(o,"show")&&$(l).dropdown("toggle")},v=function(){if(d&&s===a.value)return g(),KTUtil.addClass(t,p),m(),void KTUtil.scrollUpdate(i[0]);s=a.value,KTUtil.removeClass(t,p),u=!0,KTUtil.addClass(r,f),n&&KTUtil.hide(n);var e=b(s);i.empty(),e.length>0?(d=!0,$(e).each(function(t,e){i.append('<a href="javascript:;" data-title="'+e.relName+'" data-url="'+basePath+e.url+'" class="kt-notification__item kt-menu-link">                        <div class="kt-notification__item-icon">'+e.icon+'</div>                        <div class="kt-notification__item-details">                            <div class="kt-notification__item-title">'+e.name+"</div>                        </div>                    </a>")})):(d=!1,i.html('<div class="kt-grid kt-grid--ver" style="min-height: 200px;">                    <div class="kt-grid kt-grid--hor kt-grid__item kt-grid__item--fluid kt-grid__item--middle">                        <div class="kt-grid__item kt-grid__item--middle kt-align-center">                            暂无数据                        </div>                    </div>                </div>')),g(),KTUtil.addClass(t,p),m(),KTUtil.scrollUpdate(i[0])},b=function(t){var e=[];if(KTUtil.isNotBlank(t)){var a=KTTool.getUser(!0).menus;$(a).each(function(a,n){KTUtil.isNotBlank(n.url)&&n.name.indexOf(t)>-1&&e.push({name:n.name.replaceAll(t,'<span class="kt-font-danger">'+t+"</span>"),relName:n.name,icon:n.icon,url:n.url})})}return e},k=function(e){a.value="",s="",d=!1,KTUtil.hide(n),KTUtil.removeClass(t,p),h()},T=function(){if(a.value.length<2)return g(),void h();!0!==u&&(c&&clearTimeout(c),c=setTimeout(function(){v()},200))};return{init:function(s){t=s,e=KTUtil.find(t,".kt-quick-search__form"),a=KTUtil.find(t,".kt-quick-search__input"),n=KTUtil.find(t,".kt-quick-search__close"),o=KTUtil.find(t,".dropdown-menu"),l=KTUtil.find(t,'[data-toggle="dropdown"]'),r=KTUtil.find(t,".input-group"),i=$(t).find(".kt-quick-search__wrapper"),KTUtil.addEvent(a,"keyup",T),KTUtil.addEvent(a,"focus",T),e.onkeypress=function(t){13===(t.charCode||t.keyCode||0)&&t.preventDefault()},KTUtil.addEvent(n,"click",k);var d=KTUtil.getByID("kt_quick_search_toggle");d&&$(d).on("shown.bs.dropdown",function(){a.focus()})}}};$(document).ready(function(){var t=$("#kt_quick_search_inline");t.length&&KTQuickSearch().init(t[0])});var appOptions={colors:{state:{brand:"#5d78ff",dark:"#282a3c",light:"#ffffff",primary:"#5867dd",success:"#34bfa3",info:"#36a3f7",warning:"#ffb822",danger:"#fd3995"},base:{label:["#c5cbe3","#a1a8c3","#3d4465","#3e4466"],shape:["#f0f3ff","#d9dffa","#afb4d4","#646c9a"]}}},KTLayout=function(){var t,e,a,n,i,o,l,r,s=function(){var t='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" class="kt-svg-icon">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="Bound" points="0 0 24 0 24 24 0 24"/>\n        <path d="M6,18 L9,18 C9.66666667,18.1143819 10,18.4477153 10,19 C10,19.5522847 9.66666667,19.8856181 9,20 L4,20 L4,15 C4,14.3333333 4.33333333,14 5,14 C5.66666667,14 6,14.3333333 6,15 L6,18 Z M18,18 L18,15 C18.1143819,14.3333333 18.4477153,14 19,14 C19.5522847,14 19.8856181,14.3333333 20,15 L20,20 L15,20 C14.3333333,20 14,19.6666667 14,19 C14,18.3333333 14.3333333,18 15,18 L18,18 Z M18,6 L15,6 C14.3333333,5.88561808 14,5.55228475 14,5 C14,4.44771525 14.3333333,4.11438192 15,4 L20,4 L20,9 C20,9.66666667 19.6666667,10 19,10 C18.3333333,10 18,9.66666667 18,9 L18,6 Z M6,6 L6,9 C5.88561808,9.66666667 5.55228475,10 5,10 C4.44771525,10 4.11438192,9.66666667 4,9 L4,4 L9,4 C9.66666667,4 10,4.33333333 10,5 C10,5.66666667 9.66666667,6 9,6 L6,6 Z" id="Combined-Shape" fill="#000000" fill-rule="nonzero"/>\n    </g>\n</svg>',e='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" class="kt-svg-icon">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="Bound" points="0 0 24 0 24 24 0 24"/>\n        <path d="M10,14 L5,14 C4.33333333,13.8856181 4,13.5522847 4,13 C4,12.4477153 4.33333333,12.1143819 5,12 L12,12 L12,19 C12,19.6666667 11.6666667,20 11,20 C10.3333333,20 10,19.6666667 10,19 L10,14 Z M15,9 L20,9 C20.6666667,9.11438192 21,9.44771525 21,10 C21,10.5522847 20.6666667,10.8856181 20,11 L13,11 L13,4 C13,3.33333333 13.3333333,3 14,3 C14.6666667,3 15,3.33333333 15,4 L15,9 Z" id="Combined-Shape" fill="#000000" fill-rule="nonzero"/>\n        <path d="M3.87867966,18.7071068 L6.70710678,15.8786797 C7.09763107,15.4881554 7.73079605,15.4881554 8.12132034,15.8786797 C8.51184464,16.2692039 8.51184464,16.9023689 8.12132034,17.2928932 L5.29289322,20.1213203 C4.90236893,20.5118446 4.26920395,20.5118446 3.87867966,20.1213203 C3.48815536,19.7307961 3.48815536,19.0976311 3.87867966,18.7071068 Z M16.8786797,5.70710678 L19.7071068,2.87867966 C20.0976311,2.48815536 20.7307961,2.48815536 21.1213203,2.87867966 C21.5118446,3.26920395 21.5118446,3.90236893 21.1213203,4.29289322 L18.2928932,7.12132034 C17.9023689,7.51184464 17.2692039,7.51184464 16.8786797,7.12132034 C16.4881554,6.73079605 16.4881554,6.09763107 16.8786797,5.70710678 Z" id="Combined-Shape" fill="#000000" opacity="0.3"/>\n    </g>\n</svg>';$("#kt_full_screen").click(function(){var a;document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?($(this).find(".kt-header__topbar-icon").html(t),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):($(this).find(".kt-header__topbar-icon").html(e),(a=document.documentElement).requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen())})},d=function(){return new KTPortlet("kt_page_portlet",{sticky:{offset:parseInt(KTUtil.css(KTUtil.get("kt_header"),"height")),zIndex:90,position:{top:function(){var e=0;return KTUtil.isInResponsiveRange("desktop")?(KTUtil.hasClass(t,"kt-header--fixed")&&(e+=parseInt(KTUtil.css(KTUtil.get("kt_header"),"height"))),KTUtil.hasClass(t,"kt-subheader--fixed")&&KTUtil.get("kt_subheader")&&(e+=parseInt(KTUtil.css(KTUtil.get("kt_subheader"),"height")))):KTUtil.hasClass(t,"kt-header-mobile--fixed")&&(e+=parseInt(KTUtil.css(KTUtil.get("kt_header_mobile"),"height"))),e},left:function(){var e=0;return KTUtil.isInResponsiveRange("desktop")&&(KTUtil.hasClass(t,"kt-aside--minimize")?e+=78:KTUtil.hasClass(t,"kt-aside--enabled")&&(e+=255)),e+=parseInt(KTUtil.css(KTUtil.get("kt_content"),"paddingLeft"))},right:function(){var e=0;return KTUtil.isInResponsiveRange("desktop")&&(KTUtil.hasClass(t,"kt-aside-secondary--enabled")?KTUtil.hasClass(t,"kt-aside-secondary--expanded")?e+=370:e+=60:e+=parseInt(KTUtil.css(KTUtil.get("kt_content"),"paddingRight"))),KTUtil.get("kt_aside_secondary")&&(e+=parseInt(KTUtil.css(KTUtil.get("kt_content"),"paddingRight"))),e}}}})};return{init:function(){t=KTUtil.get("body"),this.initHeader(),this.initAside(),this.initAsideSecondary(),this.initPageStickyPortlet()},initHeader:function(){var t,n,i;n=KTUtil.get("kt_header"),i={offset:{},minimize:{desktop:!1,mobile:!1}},(t=KTUtil.attr(n,"data-ktheader-minimize-offset"))&&(i.offset.desktop=t),(t=KTUtil.attr(n,"data-ktheader-minimize-mobile-offset"))&&(i.offset.mobile=t),new KTHeader("kt_header",i),a=new KTOffcanvas("kt_header_menu_wrapper",{overlay:!0,baseClass:"kt-header-menu-wrapper",closeBy:"kt_header_menu_mobile_close_btn",toggleBy:{target:"kt_header_mobile_toggler",state:"kt-header-mobile__toolbar-toggler--active"}}),e=new KTMenu("kt_header_menu",{submenu:{desktop:"dropdown",tablet:"accordion",mobile:"accordion"},accordion:{slideSpeed:200,expandAll:!1}}),o=new KTToggle("kt_header_mobile_topbar_toggler",{target:"body",targetState:"kt-header__topbar--mobile-on",togglerState:"kt-header-mobile__toolbar-topbar-toggler--active"}),new KTScrolltop("kt_scrolltop",{offset:300,speed:600}),s()},initAside:function(){var a,l,s,d,c,u,f;s=KTUtil.get("kt_aside"),KTUtil.get("kt_aside_brand"),d=KTUtil.hasClass(s,"kt-aside--offcanvas-default")?"kt-aside--offcanvas-default":"kt-aside",i=new KTOffcanvas("kt_aside",{baseClass:d,overlay:!0,closeBy:"kt_aside_close_btn",toggleBy:{target:"kt_aside_mobile_toggler",state:"kt-header-mobile__toolbar-toggler--active"}}),KTUtil.hasClass(t,"kt-aside--fixed")&&(KTUtil.addEvent(s,"mouseenter",function(e){e.preventDefault(),!1!==KTUtil.isInResponsiveRange("desktop")&&(l&&(clearTimeout(l),l=null),a=setTimeout(function(){KTUtil.hasClass(t,"kt-aside--minimize")&&KTUtil.isInResponsiveRange("desktop")&&(KTUtil.removeClass(t,"kt-aside--minimize"),KTUtil.addClass(t,"kt-aside--minimizing"),KTUtil.transitionEnd(t,function(){KTUtil.removeClass(t,"kt-aside--minimizing")}),KTUtil.addClass(t,"kt-aside--minimize-hover"),n.scrollUpdate(),n.scrollTop())},50))}),KTUtil.addEvent(s,"mouseleave",function(e){e.preventDefault(),!1!==KTUtil.isInResponsiveRange("desktop")&&(a&&(clearTimeout(a),a=null),l=setTimeout(function(){KTUtil.hasClass(t,"kt-aside--minimize-hover")&&KTUtil.isInResponsiveRange("desktop")&&(KTUtil.removeClass(t,"kt-aside--minimize-hover"),KTUtil.addClass(t,"kt-aside--minimize"),KTUtil.addClass(t,"kt-aside--minimizing"),KTUtil.transitionEnd(t,function(){KTUtil.removeClass(t,"kt-aside--minimizing")}),n.scrollUpdate(),n.scrollTop())},100))})),u=KTUtil.get("kt_aside_menu"),f="1"===KTUtil.attr(u,"data-ktmenu-dropdown")?"dropdown":"accordion","1"===KTUtil.attr(u,"data-ktmenu-scroll")&&(c={rememberPosition:!0,height:function(){var t;return t=KTUtil.isInResponsiveRange("desktop")?parseInt(KTUtil.getViewPort().height)-parseInt(KTUtil.actualHeight("kt_aside_brand"))-parseInt(KTUtil.getByID("kt_aside_footer")?KTUtil.actualHeight("kt_aside_footer"):0):parseInt(KTUtil.getViewPort().height)-parseInt(KTUtil.getByID("kt_aside_footer")?KTUtil.actualHeight("kt_aside_footer"):0),t-=parseInt(KTUtil.css(u,"marginBottom"))+parseInt(KTUtil.css(u,"marginTop"))}}),n=new KTMenu("kt_aside_menu",{scroll:c,submenu:{desktop:f,tablet:"accordion",mobile:"accordion"},accordion:{expandAll:!1}}),KTUtil.get("kt_aside_toggler")&&((o=new KTToggle("kt_aside_toggler",{target:"body",targetState:"kt-aside--minimize",togglerState:"kt-aside__brand-aside-toggler--active"})).on("toggle",function(a){KTUtil.addClass(t,"kt-aside--minimizing"),KTUtil.get("kt_page_portlet")&&r.updateSticky(),KTUtil.transitionEnd(t,function(){KTUtil.removeClass(t,"kt-aside--minimizing")}),e.pauseDropdownHover(800),n.pauseDropdownHover(800),Cookies.set("kt_aside_toggle_state",a.getState())}),o.on("beforeToggle",function(t){var e=KTUtil.get("body");!1===KTUtil.hasClass(e,"kt-aside--minimize")&&KTUtil.hasClass(e,"kt-aside--minimize-hover")&&KTUtil.removeClass(e,"kt-aside--minimize-hover")})),this.onAsideToggle(function(t){r&&r.updateSticky();var e=$(".kt-datatable");e&&e.each(function(){$(this).KTDatatable("redraw")})})},initAsideSecondary:function(){KTUtil.get("kt_aside_secondary")&&(l=new KTToggle("kt_aside_secondary_toggler",{target:"body",targetState:"kt-aside-secondary--expanded"})).on("toggle",function(t){KTUtil.get("kt_page_portlet")&&r.updateSticky()})},initPageStickyPortlet:function(){KTUtil.get("kt_page_portlet")&&((r=d()).initSticky(),KTUtil.addResizeHandler(function(){r.updateSticky()}),d())},getAsideMenu:function(){return n},getHeaderMenu:function(){return e},onAsideToggle:function(t){void 0!==o.element&&o.on("toggle",t)},getAsideToggler:function(){return o},openAsideSecondary:function(){l.toggleOn()},closeAsideSecondary:function(){l.toggleOff()},getAsideSecondaryToggler:function(){return l},onAsideSecondaryToggle:function(t){l&&l.on("toggle",t)},closeMobileAsideMenuOffcanvas:function(){KTUtil.isMobileDevice()&&i.hide()},closeMobileHeaderMenuOffcanvas:function(){KTUtil.isMobileDevice()&&a.hide()},getContentHeight:function(){return t=KTUtil.getViewPort().height,KTUtil.getByID("kt_header")&&(t-=KTUtil.actualHeight("kt_header")),KTUtil.getByID("kt_subheader")&&(t-=KTUtil.actualHeight("kt_subheader")),KTUtil.getByID("kt_footer")&&(t-=parseInt(KTUtil.css("kt_footer","height"))),KTUtil.getByID("kt_content")&&(t=t-parseInt(KTUtil.css("kt_content","padding-top"))-parseInt(KTUtil.css("kt_content","padding-bottom"))),t;var t}}}();KTUtil.ready(function(){KTLayout.init()});